window.averta={},function(e){function t(){var e,t,n;if("result"in arguments.callee)return arguments.callee.result;e=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,t=document.getElementsByTagName("script")[0];for(n in t.style)if(e.test(n))return arguments.callee.result=n.match(e)[0];return arguments.callee.result="WebkitOpacity"in t.style?"Webkit":"KhtmlOpacity"in t.style?"Khtml":""}function n(e){var t=document.body||document.documentElement,n=t.style,r=e,i;if(typeof n[r]=="string")return!0;for(v=["Moz","Webkit","Khtml","O","ms"],r=r.charAt(0).toUpperCase()+r.substr(1),i=0;i<v.length;i++)if(typeof n[v[i]+r]=="string")return!0;return!1}function r(){return n("transition")}function i(){return n("transform")}function s(){var e,t,n,r;if(!i())return!1;e=document.createElement("i"),n={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform",transform:"transform"},e.style.display="block",document.body.insertBefore(e,null);for(r in n)e.style[r]!==undefined&&(e.style[r]="translate3d(1px,1px,1px)",t=window.getComputedStyle(e).getPropertyValue(n[r]));return document.body.removeChild(e),t!=null&&t.length>0&&t!=="none"}var o,u,a,f;window.package=function(e){window[e]||(window[e]={})},o=function(e,t){for(var n in t)e[n]=t[n]},Function.prototype.extend=function(e){typeof e.prototype.constructor=="function"?(o(this.prototype,e.prototype),this.prototype.constructor=this):(this.prototype.extend(e),this.prototype.constructor=this)},u={Moz:"-moz-",Webkit:"-webkit-",Khtml:"-khtml-",O:"-o-",ms:"-ms-",Icab:"-icab-"},window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch="ontouchstart"in document,e(document).ready(function(){window._jcsspfx=t(),window._csspfx=u[window._jcsspfx],window._cssanim=r(),window._css3d=s(),window._css2d=i()}),window.parseQueryString=function(e){var t={};return e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,n,r,i){t[n]=i}),t},a=50/3,window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,a)}}()),window.getComputedStyle||(window.getComputedStyle=function(e){return this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return t=="float"&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:null},e.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1}),jQuery&&(e.jqLoadFix=function(){if(this.complete){var t=this;setTimeout(function(){e(t).load()},1)}},jQuery.uaMatch=jQuery.uaMatch||function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),f=!!navigator.userAgent.match(/Trident\/7\./),f&&(browser.msie="true",delete browser.mozilla),jQuery.browser=browser,e.fn.preloadImg=function(t,n){return this.each(function(){var r=e(this),i=this,s=new Image;s.onload=function(e){e==null&&(e={}),r.attr("src",t),e.width=s.width,e.height=s.height,setTimeout(function(){n.call(i,e)},50),s=null},s.src=t}),this})}(jQuery),function(){"use strict";averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=function(e){var t=new averta.EventDispatcher,n;for(n in t)n!="constructor"&&(e[n]=averta.EventDispatcher.prototype[n])},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({listener:t,ref:n})},removeEventListener:function(e,t,n){if(this.listeners[e]){for(var r=0,i=this.listeners[e].length;r<i;++r)t==this.listeners[e][r].listener&&n==this.listeners[e][r].ref&&this.listeners[e].splice(r,0);this.listeners[e].length==0&&delete this.listeners[e]}},dispatchEvent:function(e){if(e.target=this,this.listeners[e.type])for(var t=0,n=this.listeners[e.type].length;t<n;++t)this.listeners[e.type][t].listener.call(this.listeners[e.type][t].ref,e)}}}(),function(e){"use strict";var t="ontouchstart"in document,n=window.navigator.pointerEnabled,r=!n&&window.navigator.msPointerEnabled,i=n||r,s=(n?"pointerdown ":"")+(r?"MSPointerDown ":"")+(t?"touchstart ":"")+"mousedown",o=(n?"pointermove ":"")+(r?"MSPointerMove ":"")+(t?"touchmove ":"")+"mousemove",u=(n?"pointerup ":"")+(r?"MSPointerUp ":"")+(t?"touchend ":"")+"mouseup",a=(n?"pointercancel ":"")+(r?"MSPointerCancel ":"")+"touchcancel",f;averta.TouchSwipe=function(e){this.$element=e,this.enabled=!0,e.bind(s,{target:this},this.__touchStart),e[0].swipe=this,this.onSwipe=null,this.swipeType="horizontal",this.noSwipeSelector="input, textarea, button, .no-swipe, .ms-no-swipe",this.lastStatus={}},f=averta.TouchSwipe.prototype,f.getDirection=function(e,t){switch(this.swipeType){case"horizontal":return e<=this.start_x?"left":"right";case"vertical":return t<=this.start_y?"up":"down";case"all":return Math.abs(e-this.start_x)>Math.abs(t-this.start_y)?e<=this.start_x?"left":"right":t<=this.start_y?"up":"down"}},f.priventDefultEvent=function(e,t){var n=Math.abs(e-this.start_x),r=Math.abs(t-this.start_y),i=n>r;return this.swipeType==="horizontal"&&i||this.swipeType==="vertical"&&!i},f.createStatusObject=function(e){var t={},n,r;return n=this.lastStatus.distanceX||0,r=this.lastStatus.distanceY||0,t.distanceX=e.pageX-this.start_x,t.distanceY=e.pageY-this.start_y,t.moveX=t.distanceX-n,t.moveY=t.distanceY-r,t.distance=parseInt(Math.sqrt(Math.pow(t.distanceX,2)+Math.pow(t.distanceY,2))),t.duration=(new Date).getTime()-this.start_time,t.direction=this.getDirection(e.pageX,e.pageY),t},f.__reset=function(e,n){this.reset=!1,this.lastStatus={},this.start_time=(new Date).getTime(),this.start_x=t?e.touches[0].pageX:i?e.pageX:n.pageX,this.start_y=t?e.touches[0].pageY:i?e.pageY:n.pageY},f.__touchStart=function(n){var r=n.data.target,s=n,f,l;if(r.enabled&&(console.log(e(n.target).closest(r.noSwipeSelector,r.$element).length),!(e(n.target).closest(r.noSwipeSelector,r.$element).length>0))){if(n=n.originalEvent,i&&e(this).css("-ms-touch-action",r.swipeType==="horizontal"?"pan-y":"pan-x"),!r.onSwipe){e.error("Swipe listener is undefined");return}r.touchStarted||(r.start_x=t?n.touches[0].pageX:i?n.pageX:s.pageX,r.start_y=t?n.touches[0].pageY:i?n.pageY:s.pageY,r.start_time=(new Date).getTime(),e(document).bind(u,{target:r},r.__touchEnd).bind(o,{target:r},r.__touchMove).bind(a,{target:r},r.__touchCancel),f=t?n.touches[0]:i?n:s,l=r.createStatusObject(f),l.phase="start",r.onSwipe.call(null,l),t||s.preventDefault(),r.lastStatus=l,r.touchStarted=!0)}},f.__touchMove=function(e){var n=e.data.target,r=e,s,o;(e=e.originalEvent,n.touchStarted)&&(clearTimeout(n.timo),n.timo=setTimeout(function(){n.__reset(e,r)},60),s=t?e.touches[0]:i?e:r,o=n.createStatusObject(s),n.priventDefultEvent(s.pageX,s.pageY)&&r.preventDefault(),o.phase="move",n.lastStatus=o,n.onSwipe.call(null,o))},f.__touchEnd=function(n){var r=n.data.target,s=n,f,l;n=n.originalEvent,clearTimeout(r.timo),f=t?n.touches[0]:i?n:s,l=r.lastStatus,t||s.preventDefault(),l.phase="end",r.touchStarted=!1,r.priventEvt=null,e(document).unbind(u,r.__touchEnd).unbind(o,r.__touchMove).unbind(a,r.__touchCancel),l.speed=l.distance/l.duration,r.onSwipe.call(null,l)},f.__touchCancel=function(e){var t=e.data.target;t.__touchEnd(e)},f.enable=function(){this.enabled||(this.enabled=!0)},f.disable=function(){this.enabled&&(this.enabled=!1)}}(jQuery),function(){"use strict";var e;averta.Ticker=function(){};var t=averta.Ticker,n=[],r=0,i=!0;t.add=function(e,i){return n.push([e,i]),n.length===1&&t.start(),r=n.length},t.remove=function(e,i){for(var s=0,o=n.length;s<o;++s)n[s]&&n[s][0]===e&&n[s][1]===i&&n.splice(s,1);r=n.length,r===0&&t.stop()},t.start=function(){i&&(i=!1,e())},t.stop=function(){i=!0},e=function(){var i,s;if(!t.__stopped){for(s=0;s!==r;s++)i=n[s],i[0].call(i[1]);requestAnimationFrame(e)}}}(),function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),averta.Timer=function(e,t){this.delay=e,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,t&&this.start()},averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}}(),function(){"use strict";var e;window.CSSTween=function(e,t,n,r){this.$element=e,this.duration=t||1e3,this.delay=n||0,this.ease=r||"linear"},e=CSSTween.prototype,e.to=function(e,t){return this.to_cb=e,this.to_cb_target=t,this},e.from=function(e,t){return this.fr_cb=e,this.fr_cb_target=t,this},e.onComplete=function(e,t){return this.oc_fb=e,this.oc_fb_target=t,this},e.chain=function(e){return this.chained_tween=e,this},e.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},e.start=function(){var e=this.$element[0],t;return clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&&(e.style[window._jcsspfx+"TransitionDuration"]="0ms",this.fr_cb.call(this.fr_cb_target)),t=this,this.onTransComplete=function(){t.fresh&&(t.reset(),e.style[window._jcsspfx+"TransitionDuration"]="",e.style[window._jcsspfx+"TransitionProperty"]="",e.style[window._jcsspfx+"TransitionTimingFunction"]="",e.style[window._jcsspfx+"TransitionDelay"]="",t.fresh=!1,t.chained_tween&&t.chained_tween.start(),t.oc_fb&&t.oc_fb.call(t.oc_fb_target))},this.start_to=setTimeout(function(){t.$element&&(e.style[window._jcsspfx+"TransitionDuration"]=t.duration+"ms",e.style[window._jcsspfx+"TransitionProperty"]=t.transProperty||"all",e.style[window._jcsspfx+"TransitionDelay"]=t.delay>0?t.delay+"ms":"",e.style[window._jcsspfx+"TransitionTimingFunction"]=t.ease,t.to_cb&&t.to_cb.call(t.to_cb_target),t.end_to=setTimeout(function(){t.onTransComplete()},t.duration+(t.delay||0)))},100),this}}(),function(){"use strict";function e(e,r){var i,s,o;return(r.x!==undefined||r.y!==undefined)&&(t?(i=window._jcsspfx+"Transform",r.x!==undefined&&(r[i]=(r[i]||"")+" translateX("+r.x+"px)",delete r.x),r.y!==undefined&&(r[i]=(r[i]||"")+" translateY("+r.y+"px)",delete r.y)):(r.x!==undefined&&(s=e.css("right")!=="auto"?"right":"left",r[s]=r.x+"px",delete r.x),r.y!==undefined&&(o=e.css("bottom")!=="auto"?"bottom":"top",r[o]=r.y+"px",delete r.y))),r}var t=null;window.CTween={},CTween.setPos=function(t,n){t.css(e(t,n))},CTween.animate=function(r,i,s,o){var u,a;if(t==null&&(t=window._cssanim),o=o||{},e(r,s),t){if(u=new CSSTween(r,i,o.delay,EaseDic[o.ease]),o.transProperty&&(u.transProperty=o.transProperty),u.to(function(){r.css(s)}),o.complete)u.onComplete(o.complete,o.target);return u.start(),u.stop=u.reset,u}return o.delay&&r.delay(o.delay),o.complete&&(a=function(){o.complete.call(o.target)}),r.stop(!0).animate(s,i,o.ease||"linear",a),r},CTween.fadeOut=function(e,t,n){var r={};n===!0?r.complete=function(){e.remove()}:n===2&&(r.complete=function(){e.css("display","none")}),CTween.animate(e,t||1e3,{opacity:0},r)},CTween.fadeIn=function(e,t,n){n!==!1&&e.css("opacity",0).css("display",""),CTween.animate(e,t||1e3,{opacity:1})}}(),function(){window.EaseDic={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"}}(),function(){"use strict";window.MSAligner=function(e,t,n){this.$container=t,this.$img=n,this.type=e||"stretch",this.widthOnly=!1,this.heightOnly=!1};var e=MSAligner.prototype;e.init=function(e,t){this.baseWidth=e,this.baseHeight=t,this.imgRatio=e/t,this.imgRatio2=t/e;switch(this.type){case"tile":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$img.remove();break;case"center":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$container.css({backgroundPosition:"center center",backgroundRepeat:"no-repeat"}),this.$img.remove();break;case"stretch":this.$img.css({width:"100%",height:"100%"});break;case"fill":case"fit":this.needAlign=!0,this.align()}},e.align=function(){if(this.needAlign){var e=this.$container.width(),t=this.$container.height(),n=e/t;this.type=="fill"?this.imgRatio<n?(this.$img.width(e),this.$img.height(e*this.imgRatio2)):(this.$img.height(t),this.$img.width(t*this.imgRatio)):this.type=="fit"&&(this.imgRatio<n?(this.$img.height(t),this.$img.width(t*this.imgRatio)):(this.$img.width(e),this.$img.height(e*this.imgRatio2))),this.setMargin()}},e.setMargin=function(){var e=this.$container.width(),t=this.$container.height();this.$img.css("margin-top",(t-this.$img[0].offsetHeight)/2+"px"),this.$img.css("margin-left",(e-this.$img[0].offsetWidth)/2+"px")}}(),function(){"use strict";var e={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},t=function(t,n,r){if(n===null||t===null)throw new Error("Max and Min values are required.");this.options=r||{};for(var i in e)i in this.options||(this.options[i]=e[i]);this._max_value=n,this._min_value=t,this.value=t,this.end_loc=t,this.current_snap=this.getSnapNum(t),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},n=t.prototype;n.changeTo=function(e,t,n,r,i){if(this.stopped=!1,this._internalStop(),e=this._checkLimits(e),n=Math.abs(n||0),this.options.snapping&&(r=r||this.getSnapNum(e),i!==!1&&this._callsnapChange(r),this.current_snap=r),t){this.animating=!0;var s=this,o=++s.__animID,u=e-s.value,a=0,f=e,l=1-s.options.friction,c=l+(n-20)*l*1.3/s.options.maxSpeed,h=function(){if(o===s.__animID){var t=e-s.value;if(Math.abs(t)>s.options.minValidDist&&s.animating)window.requestAnimationFrame(h);else{s.animating&&(s.value=e,s._callrenderer()),s.animating=!1,o!==s.__animID&&(s.__animID=-1),s._callonComplete("anim");return}s.value=f-u*Math.exp(-++a*c),s._callrenderer()}};h();return}this.value=e,this._callrenderer()},n.drag=function(e){this.start_drag&&(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=e,!this.options.endless&&(this.value>this._max_value||this.value<0)?this.options.bouncing?(this.__isout=!0,this.value+=e*.6):this.value=this.value>this._max_value?this._max_value:0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1),this._callrenderer()},n.push=function(e){if(this.stopped=!1,this.options.snapping&&Math.abs(e)<=this.options.snappingMinSpeed){this.cancel();return}if(this.__speed=e,this.__startSpeed=e,this.end_loc=this._calculateEnd(),this.options.snapping){var t=this.getSnapNum(this.value),n=this.getSnapNum(this.end_loc);if(this.options.paging){t=this.getSnapNum(this.drag_start_loc),this.__isout=!1,e>0?this.gotoSnap(t+1,!0,e):this.gotoSnap(t-1,!0,e);return}if(t===n){this.cancel();return}this._callsnapChange(n),this.current_snap=n}this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value,this.options.snapping&&this.__needsSnap&&(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()},n.bounce=function(e){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=e,this.__startSpeed=e,this.end_loc=this._calculateEnd(),this._startDecelaration())},n.stop=function(){this.stopped=!0,this._internalStop()},n.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=4e-4,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)},n.renderCallback=function(e,t){this.__renderHook={fun:e,ref:t}},n.snappingCallback=function(e,t){this.__snapHook={fun:e,ref:t}},n.snapCompleteCallback=function(e,t){this.__compHook={fun:e,ref:t}},n.getSnapNum=function(e){return Math.floor((e+this.options.snapsize/2)/this.options.snapsize)},n.nextSnap=function(){this._internalStop();var e=this.getSnapNum(this.value);!this.options.endless&&(e+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(e+1,!0)},n.prevSnap=function(){this._internalStop();var e=this.getSnapNum(this.value);!this.options.endless&&(e-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(e-1,!0)},n.gotoSnap=function(e,t,n){this.changeTo(e*this.options.snapsize,t,n,e)},n.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},n._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},n._calculateExtraMove=function(e){var t=e%this.options.snapsize;return t<this.options.snapsize/2?-t:this.options.snapsize-t},n._calculateEnd=function(e){for(var t=this.__speed,n=this.value,r=0;Math.abs(t)>this.options.minValidDist;)n+=t,t*=this.options.friction,r++;return e?r:n},n._checkLimits=function(e){return this.options.endless?e:e<this._min_value?this._min_value:e>this._max_value?this._max_value:e},n._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},n._callsnapChange=function(e){this.__snapHook&&e!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,e,e-this.current_snap)},n._callonComplete=function(e){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,e)},n._computeDeceleration=function(){var e,t;this.options.snapping&&this.__needsSnap?(e=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove,this.value+=this.__speed+e-this.__extrStep,this.__extrStep=e):this.value+=this.__speed,this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&&this.options.bouncing&&(t=0,this.value<this._min_value?t=this._min_value-this.value:this.value>this._max_value&&(t=this._max_value-this.value),this.__isout=Math.abs(t)>=this.options.minValidDist,this.__isout&&(this.__speed*t<=0?this.__speed+=t*this.options.outFriction:this.__speed=t*this.options.outAcceleration))},n._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var e=this,t=function(){e._deceleration&&(e._computeDeceleration(),Math.abs(e.__speed)>e.options.minValidDist||e.__isout?window.requestAnimationFrame(t):(e._deceleration=!1,e.__isout=!1,e.value=this.__needsSnap&&e.options.snapping&&!e.options.paging?e._checkLimits(e.end_loc+e.__extraMove):Math.round(e.value),e._callrenderer(),e._callonComplete("decel")))};t()}},window.Controller=t}(),function(e){window.MSLayerEffects={};var t,n={opacity:0};MSLayerEffects.setup=function(){if(!t){t=!0;var r=MSLayerEffects,s=window._jcsspfx+"Transform",o=window._jcsspfx+"TransformOrigin",u=e.browser.opera;_2d=window._css2d&&window._cssanim&&!u,r.defaultValues={left:0,top:0,opacity:1,right:0,bottom:0},r.defaultValues[s]="",r.rf=1,r.presetEffParams={random:"30|300","long":300,"short":30,"false":!1,"true":!0,tl:"top left",bl:"bottom left",tr:"top right",br:"bottom right",rt:"top right",lb:"bottom left",lt:"top left",rb:"bottom right",t:"top",b:"bottom",r:"right",l:"left",c:"center"},r.fade=function(){return n},r.left=_2d?function(e,t){var n=t===!1?{}:{opacity:0};return n[s]="translateX("+ -e*r.rf+"px)",n}:function(e,t){var n=t===!1?{}:{opacity:0};return n.left=-e*r.rf+"px",n},r.right=_2d?function(e,t){var n=t===!1?{}:{opacity:0};return n[s]="translateX("+e*r.rf+"px)",n}:function(e,t){var n=t===!1?{}:{opacity:0};return n.left=e*r.rf+"px",n},r.top=_2d?function(e,t){var n=t===!1?{}:{opacity:0};return n[s]="translateY("+ -e*r.rf+"px)",n}:function(e,t){var n=t===!1?{}:{opacity:0};return n.top=-e*r.rf+"px",n},r.bottom=_2d?function(e,t){var n=t===!1?{}:{opacity:0};return n[s]="translateY("+e*r.rf+"px)",n}:function(e,t){var n=t===!1?{}:{opacity:0};return n.top=e*r.rf+"px",n},r.from=_2d?function(e,t,n){var i=n===!1?{}:{opacity:0};return i[s]="translateX("+e*r.rf+"px) translateY("+t*r.rf+"px)",i}:function(e,t,n){var i=n===!1?{}:{opacity:0};return i.top=t*r.rf+"px",i.left=e*r.rf+"px",i},r.rotate=_2d?function(e,t){var n={opacity:0};return n[s]=" rotate("+e+"deg)",t&&(n[o]=t),n}:function(){return n},r.rotateleft=_2d?function(e,t,n,i){var u=r.left(t,i);return u[s]+=" rotate("+e+"deg)",n&&(u[o]=n),u}:function(e,t,n,i){return r.left(t,i)},r.rotateright=_2d?function(e,t,n,i){var u=r.right(t,i);return u[s]+=" rotate("+e+"deg)",n&&(u[o]=n),u}:function(e,t,n,i){return r.right(t,i)},r.rotatetop=_2d?function(e,t,n,i){var u=r.top(t,i);return u[s]+=" rotate("+e+"deg)",n&&(u[o]=n),u}:function(e,t,n,i){return r.top(t,i)},r.rotatebottom=_2d?function(e,t,n,i){var u=r.bottom(t,i);return u[s]+=" rotate("+e+"deg)",n&&(u[o]=n),u}:function(e,t,n,i){return r.bottom(t,i)},r.rotatefrom=_2d?function(e,t,n,i,u){var a=r.from(t,n,u);return a[s]+=" rotate("+e+"deg)",i&&(a[o]=i),a}:function(e,t,n,i,s){return r.from(t,n,s)},r.skewleft=_2d?function(e,t,n){var i=r.left(t,n);return i[s]+=" skewX("+e+"deg)",i}:function(e,t,n){return r.left(t,n)},r.skewright=_2d?function(e,t,n){var i=r.right(t,n);return i[s]+=" skewX("+ -e+"deg)",i}:function(e,t,n){return r.right(t,n)},r.skewtop=_2d?function(e,t,n){var i=r.top(t,n);return i[s]+=" skewY("+e+"deg)",i}:function(e,t,n){return r.top(t,n)},r.skewbottom=_2d?function(e,t,n){var i=r.bottom(t,n);return i[s]+=" skewY("+ -e+"deg)",i}:function(e,t,n){return r.bottom(t,n)},r.scale=_2d?function(e,t,n,r){var i=r===!1?{}:{opacity:0};return i[s]=" scaleX("+e+") scaleY("+t+")",n&&(i[o]=n),i}:function(e,t,n,r){return r===!1?{}:{opacity:0}},r.scaleleft=_2d?function(e,t,n,i,u){var a=r.left(n,u);return a[s]=" scaleX("+e+") scaleY("+t+")",i&&(a[o]=i),a}:function(e,t,n,i,s){return r.left(n,s)},r.scaleright=_2d?function(e,t,n,i,u){var a=r.right(n,u);return a[s]=" scaleX("+e+") scaleY("+t+")",i&&(a[o]=i),a}:function(e,t,n,i,s){return r.right(n,s)},r.scaletop=_2d?function(e,t,n,i,u){var a=r.top(n,u);return a[s]=" scaleX("+e+") scaleY("+t+")",i&&(a[o]=i),a}:function(e,t,n,i,s){return r.top(n,s)},r.scalebottom=_2d?function(e,t,n,i,u){var a=r.bottom(n,u);return a[s]=" scaleX("+e+") scaleY("+t+")",i&&(a[o]=i),a}:function(e,t,n,i,s){return r.bottom(n,s)},r.scalefrom=_2d?function(e,t,n,i,u,a){var l=r.from(n,i,a);return l[s]+=" scaleX("+e+") scaleY("+t+")",u&&(l[o]=u),l}:function(e,t,n,i,s,o){return r.from(n,i,o)},r.rotatescale=_2d?function(e,t,n,i,u){var a=r.scale(t,n,i,u);return a[s]+=" rotate("+e+"deg)",i&&(a[o]=i),a}:function(e,t,n,i,s){return r.scale(t,n,i,s)},r.front=window._css3d?function(e,t){var n=t===!1?{}:{opacity:0};return n[s]="perspective(2000px) translate3d(0 , 0 ,"+e+"px ) rotate(0.001deg)",n}:function(){return n},r.back=window._css3d?function(e,t){var n=t===!1?{}:{opacity:0};return n[s]="perspective(2000px) translate3d(0 , 0 ,"+ -e+"px ) rotate(0.001deg)",n}:function(){return n},r.rotatefront=window._css3d?function(e,t,n,r){var i=r===!1?{}:{opacity:0};return i[s]="perspective(2000px) translate3d(0 , 0 ,"+t+"px ) rotate("+(e||.001)+"deg)",n&&(i[o]=n),i}:function(){return n},r.rotateback=window._css3d?function(e,t,n,r){var i=r===!1?{}:{opacity:0};return i[s]="perspective(2000px) translate3d(0 , 0 ,"+ -t+"px ) rotate("+(e||.001)+"deg)",n&&(i[o]=n),i}:function(){return n},r.rotate3dleft=window._css3d?function(e,t,n,i,u,a){var l=r.left(i,a);return l[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(n?" rotateZ("+n+"deg)":""),u&&(l[o]=u),l}:function(e,t,n,i,s,o){return r.left(i,o)},r.rotate3dright=window._css3d?function(e,t,n,i,u,a){var l=r.right(i,a);return l[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(n?" rotateZ("+n+"deg)":""),u&&(l[o]=u),l}:function(e,t,n,i,s,o){return r.right(i,o)},r.rotate3dtop=window._css3d?function(e,t,n,i,u,a){var l=r.top(i,a);return l[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(n?" rotateZ("+n+"deg)":""),u&&(l[o]=u),l}:function(e,t,n,i,s,o){return r.top(i,o)},r.rotate3dbottom=window._css3d?function(e,t,n,i,u,a){var l=r.bottom(i,a);return l[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(n?" rotateZ("+n+"deg)":""),u&&(l[o]=u),l}:function(e,t,n,i,s,o){return r.bottom(i,o)},r.rotate3dfront=window._css3d?function(e,t,n,i,u,a){var l=r.front(i,a);return l[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(n?" rotateZ("+n+"deg)":""),u&&(l[o]=u),l}:function(e,t,n,i,s,o){return r.front(i,o)},r.rotate3dback=window._css3d?function(e,t,n,i,u,a){var l=r.back(i,a);return l[s]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(n?" rotateZ("+n+"deg)":""),u&&(l[o]=u),l}:function(e,t,n,i,s,o){return r.back(i,o)},r.t=window._css3d?function(e,t,n,i,u,a,l,c,h,p,d,v,m,g,y){var b=e===!1?{}:{opacity:0},w="perspective(2000px) ",E;return t!=="n"&&(w+="translateX("+t*r.rf+"px) "),n!=="n"&&(w+="translateY("+n*r.rf+"px) "),i!=="n"&&(w+="translateZ("+i*r.rf+"px) "),u!=="n"&&(w+="rotate("+u+"deg) "),a!=="n"&&(w+="rotateX("+a+"deg) "),l!=="n"&&(w+="rotateY("+l+"deg) "),c!=="n"&&(w+="rotateZ("+c+"deg) "),d!=="n"&&(w+="skewX("+d+"deg) "),v!=="n"&&(w+="skewY("+v+"deg) "),h!=="n"&&(w+="scaleX("+h+") "),p!=="n"&&(w+="scaleY("+p+")"),b[s]=w,E="",E+=m!=="n"?m+"% ":"50% ",E+=g!=="n"?g+"% ":"50% ",E+=y!=="n"?y+"px":"",b[o]=E,b}:function(e,t,n,i,s){var s=e===!1?{}:{opacity:0};return t!=="n"&&(s.left=t*r.rf+"px"),n!=="n"&&(s.top=n*r.rf+"px"),s}}}}(jQuery),function(e){window.MSLayerElement=function(){this.$cont=e("<div></div>").addClass("layer-cont"),this.start_anim={name:"fade",duration:1e3,ease:"linear",delay:0},this.end_anim={duration:1e3,ease:"linear"},this.type="text",this.resizable=!0,this.minWidth=-1,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","font-size","line-height","width","left","right","top","bottom"],this.baseStyle={}};var t=MSLayerElement.prototype;t.__playAnimation=function(e,t){var n={};e.ease&&(n.ease=e.ease),n.transProperty=window._csspfx+"transform,opacity",this.show_tween=CTween.animate(this.$element,e.duration,t,n)},t._randomParam=function(e){var t=Number(e.slice(0,e.indexOf("|"))),n=Number(e.slice(e.indexOf("|")+1));return t+Math.random()*(n-t)},t._parseEff=function(e){var t=[],n,r,i,s;if(e.indexOf("(")!==-1)for(n=e.slice(0,e.indexOf("(")).toLowerCase(),t=e.slice(e.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),e=n,i=0,s=t.length;i<s;++i)r=t[i],r in MSLayerEffects.presetEffParams&&(r=MSLayerEffects.presetEffParams[r]),t[i]=r;return{eff_name:e,eff_params:t}},t._parseEffParams=function(e){for(var t=[],n,r=0,i=e.length;r<i;++r)n=e[r],typeof n=="string"&&n.indexOf("|")!==-1&&(n=this._randomParam(n)),t[r]=n;return t},t._checkPosKey=function(e,t){return e==="left"&&!(e in this.baseStyle)&&"right"in this.baseStyle?(t.right=-parseInt(t.left)+"px",delete t.left,!0):e==="top"&&!(e in this.baseStyle)&&"bottom"in this.baseStyle?(t.bottom=-parseInt(t.top)+"px",delete t.top,!0):!1},t.setStartAnim=function(t){e.extend(this.start_anim,t),e.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css("visibility","hidden")},t.setEndAnim=function(t){e.extend(this.end_anim,t)},t.create=function(){var t,r;if(this.$element.css("display","none").removeAttr("data-delay").removeAttr("data-effect").removeAttr("data-duration").removeAttr("data-type"),this.$element.data("resize")!==undefined&&(this.resizable=this.$element.data("resize"),this.$element.removeAttr("data-resize")),this.$element.data("fixed")!==undefined&&(this.fixed=this.$element.data("fixed"),this.$element.removeAttr("data-fixed")),this.$element.data("widthlimit")!==undefined&&(this.minWidth=this.$element.data("widthlimit"),this.$element.removeAttr("data-widthlimit")),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&&(this.autoHide=!0),this.$element.data("action")!==undefined&&(t=this.slide.slider.slideController,this.$element.on("click",function(r){t.runAction(e(this).data("action")),r.preventDefault()}).addClass("ms-action-layer")),e.extend(this.end_anim,this._parseEff(this.end_anim.name)),this.slider=this.slide.slider,r=this.layerOrigin=this.$element.data("origin"),r){var i=r.charAt(0),s=r.charAt(1),o=this.$element.data("offset-x"),u=this.$element.data("offset-y");u!==undefined?this.$element.removeAttr("data-offset-y"):u=0;switch(i){case"t":this.$element[0].style.top=u+"px";break;case"b":this.$element[0].style.bottom=u+"px";break;case"m":this.$element[0].style.top=u+"px",this.middleAlign=!0}o!==undefined?this.$element.removeAttr("data-offset-x"):o=0;switch(s){case"l":this.$element[0].style.left=o+"px";break;case"r":this.$element[0].style.right=o+"px";break;case"c":this.$element[0].style.left=o+"px",this.centerAlign=!0}this.$element.removeAttr("data-origin")}this.parallax=this.$element.data("parallax"),this.parallax!=null&&(this.parallax/=100,this.$parallaxElement=e("<div></div>").addClass("ms-parallax-layer"),this.link?(this.link.wrap(this.$parallaxElement),this.$parallaxElement=this.link.parent()):(this.$element.wrap(this.$parallaxElement),this.$parallaxElement=this.$element.parent()),this._lastParaX=0,this._lastParaY=0,this._paraX=0,this._paraY=0,this.alignedToBot=this.layerOrigin&&this.layerOrigin.indexOf("b")!==-1,this.alignedToBot&&this.$parallaxElement.css("bottom",0),this.parallaxRender=window._css3d?this.parallaxCSS3DRenderer:window._css2d?this.parallaxCSS2DRenderer:this.parallax2DRenderer,this.slider.options.parallaxMode!=="swipe"&&averta.Ticker.add(this.parallaxRender,this))},t.moveParallax=function(e,t,n){this._paraX=e,this._paraY=t,n&&(this._lastParaX=e,this._lastParaY=t,this.parallaxRender())},t.parallaxCalc=function(){var e=this._paraX-this._lastParaX,t=this._paraY-this._lastParaY;this._lastParaX+=e/12,this._lastParaY+=t/12,Math.abs(e)<.019&&(this._lastParaX=this._paraX),Math.abs(t)<.019&&(this._lastParaY=this._paraY)},t.parallaxCSS3DRenderer=function(){this.parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px) translateZ(0)"},t.parallaxCSS2DRenderer=function(){this.parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px)"},t.parallax2DRenderer=function(){this.parallaxCalc(),this.alignedToBot?this.$parallaxElement[0].style.bottom=this._lastParaY*this.parallax+"px":this.$parallaxElement[0].style.top=this._lastParaY*this.parallax+"px",this.$parallaxElement[0].style.left=this._lastParaX*this.parallax+"px"},t.init=function(){var e,t,n,r;for(this.initialized=!0,this.$element.css("visibility",""),t=0,n=this.__cssConfig.length;t<n;t++)r=this.__cssConfig[t],e=this.type==="text"&&r==="width"?this.$element[0].style.width:this.$element.css(r),e!="auto"&&e!=""&&e!="normal"&&(this.baseStyle[r]=parseInt(e));this.middleAlign&&(this.baseHeight=this.$element.outerHeight(!1)),this.centerAlign&&(this.baseWidth=this.$element.outerWidth(!1))},t.locate=function(){var e=this.slide.$layers,t=parseFloat(e.css("width")),n=parseFloat(e.css("height")),r,i,s;this.$element.css("display")==="none"&&this.$element.css("display","block").css("visibility","hidden"),r=this.resizeFactor=t/this.slide.slider.options.width;for(s in this.baseStyle)(i=s==="top"||s==="left"||s==="bottom"||s==="right",r=this.fixed&&i?1:this.resizeFactor,this.resizable||i)&&(s==="top"&&this.middleAlign?(this.$element[0].style.top="0px",this.baseHeight=this.$element.outerHeight(!1),this.$element[0].style.top=this.baseStyle.top*r+(n-this.baseHeight)/2+"px"):s==="left"&&this.centerAlign?(this.$element[0].style.left="0px",this.baseWidth=this.$element.outerWidth(!1),this.$element[0].style.left=this.baseStyle.left*r+(t-this.baseWidth)/2+"px"):this.$element.css(s,this.baseStyle[s]*r+"px"));this.visible(this.minWidth<t)},t.start=function(){var e,t,n,r,i,s;if(!this.isShowing){this.isShowing=!0,n=this.slide.$layers,MSLayerEffects.rf=this.resizeFactor,r=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),i={};for(e in r)this._checkPosKey(e,r)||(MSLayerEffects.defaultValues[e]!=null&&(i[e]=MSLayerEffects.defaultValues[e]),e in this.baseStyle&&(t=this.baseStyle[e],this.middleAlign&&e==="top"&&(t+=(parseInt(n.height())-this.$element.outerHeight(!1))/2),this.centerAlign&&e==="left"&&(t+=(parseInt(n.width())-this.$element.outerWidth(!1))/2),r[e]=t+parseFloat(r[e])+"px",i[e]=t+"px"),this.$element.css(e,r[e]));s=this,clearTimeout(this.to),this.to=setTimeout(function(){s.$element.css("display","").css("visibility",""),s.__playAnimation(s.start_anim,i)},s.start_anim.delay||.01),this.cl_to=setTimeout(function(){s.show_cl=!0},(this.start_anim.delay||.01)+this.start_anim.duration),this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(function(){s.hide()},s.end_anim.time))}},t.hide=function(){this.isShowing=!1;var e=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in e)this._checkPosKey(key,e)||(key===window._jcsspfx+"TransformOrigin"&&this.$element.css(key,e[key]),key in this.baseStyle&&(e[key]=this.baseStyle[key]+parseFloat(e[key])+"px"));this.__playAnimation(this.end_anim,e),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.cl_to)},t.reset=function(){this.isShowing=!1,this.$element[0].style.display="none",this.$element.css("opacity","100"),this.$element[0].style.transitionDuration="0ms",this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto)},t.destroy=function(){this.reset(),this.$element.remove(),this.$cont.remove()},t.visible=function(e){this.isVisible!=e&&(this.isVisible=e,this.$element.css("display",e?"":"none"))}}(jQuery),function(e){window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=["width","height","margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.type="image"},MSImageLayerElement.extend(MSLayerElement);var t=MSImageLayerElement.prototype,n=MSLayerElement.prototype;t.create=function(){var t,r;if(this.link&&(t=this.$element.parent(),t.append(this.link),this.link.append(this.$element),this.link.removeClass("ms-layer"),this.$element.addClass("ms-layer"),t=null),n.create.call(this),this.$element.data("src")!=undefined?(this.img_src=this.$element.data("src"),this.$element.removeAttr("data-src")):(r=this,this.$element.on("load",function(){r.slide.preloadCount--,r.slide.preloadCount===0&&r.slide.___onlayersReady()}).each(e.jqLoadFix)),e.browser.msie)this.$element.on("dragstart",function(e){e.preventDefault()})},t.loadImage=function(){var e=this;this.$element.preloadImg(this.img_src,function(){e.slide.preloadCount--,e.slide.preloadCount===0&&e.slide.___onlayersReady()})}}(jQuery),function(e){window.MSVideoLayerElement=function(){MSLayerElement.call(this),this.__cssConfig.push("height"),this.type="video"},MSVideoLayerElement.extend(MSLayerElement);var t=MSVideoLayerElement.prototype,n=MSLayerElement.prototype;t.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,2),CTween.fadeOut(this.video_btn,500,2),this.video_frame.attr("src","about:blank").css("display","block"),this.video_url.indexOf("?")==-1&&(this.video_url+="?"),this.video_frame.attr("src",this.video_url+"&autoplay=1")},t.start=function(){n.start.call(this),this.$element.data("autoplay")&&this.__playVideo()},t.reset=function(){if(n.reset.call(this),(this.needPreload||this.$element.data("btn"))&&(this.video_btn.css("opacity",1),this.video_frame.attr("src","about:blank").css("display","none")),this.needPreload){this.img.css("opacity",1);return}this.video_frame.attr("src",this.video_url)},t.create=function(){var t,r;if((n.create.call(this),this.video_frame=this.$element.find("iframe").css({width:"100%",height:"100%"}),this.video_url=this.video_frame.attr("src"),t=this.$element.has("img").length!=0,t||this.$element.data("btn"))&&(this.video_frame.attr("src","about:blank").css("display","none"),r=this,this.video_btn=e("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function(){r.__playVideo()}),t)&&(this.needPreload=!0,this.img=this.$element.find("img:first").addClass("ms-video-img"),this.img.data("src")!==undefined?(this.img_src=this.img.data("src"),this.img.removeAttr("data-src")):(r=this,this.img.attr("src",this.img_src).on("load",function(){r.slide.preloadCount--,r.slide.preloadCount==0&&r.slide.___onlayersReady()}).each(e.jqLoadFix)),e.browser.msie))this.img.on("dragstart",function(e){e.preventDefault()})},t.loadImage=function(){var e=this;this.img.preloadImg(this.img_src,function(){e.slide.preloadCount--,e.slide.preloadCount==0&&e.slide.___onlayersReady()})}}(jQuery),function(e){"use strict";window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.ease="Expo",this.hide_start=!0,this.type="hotspot"},MSHotspotLayer.extend(MSLayerElement);var t=MSHotspotLayer.prototype,n=MSLayerElement.prototype;t._showTT=function(){this.show_cl&&(clearTimeout(this.hto),this._tween&&this._tween.stop(!0),this.hide_start&&(this.align=this._orgAlign,this._locateTT(),this.tt.css({display:"block"}),this._tween=CTween.animate(this.tt,900,this.to,{ease:"easeOut"+this.ease}),this.hide_start=!1))},t._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);var e=this;clearTimeout(this.hto),this.hto=setTimeout(function(){e.hide_start=!0,e._tween=CTween.animate(e.tt,900,e.from,{ease:"easeOut"+e.ease,complete:function(){e.tt.css("display","none")}})},200)}},t._updateClassName=function(e){this._lastClass&&this.tt.removeClass(this._lastClass),this.tt.addClass(e),this._lastClass=e},t._alignPolicy=function(){var e=this.tt.outerHeight(!1),t=Math.max(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width"))),n=window.innerWidth,r=window.innerHeight;switch(this.align){case"top":if(this.base_t<0)return"bottom";break;case"right":if(this.base_l+t>n||this.base_t<0)return"bottom";break;case"left":if(this.base_l<0||this.base_t<0)return"bottom"}return null},t._locateTT=function(){var e=this.$element.offset(),t=this.slide.slider.$element.offset(),n=50,r=15,i,s,o,u;this.pos_x=e.left-t.left-this.slide.slider.$element.scrollLeft(),this.pos_y=e.top-t.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName("ms-tooltip-"+this.align),this.tt_arrow.css("margin-left",""),i=15,s=15;switch(this.align){case"top":o=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width"))),this.base_t=this.pos_y-this.tt.outerHeight(!1)-s-r,this.base_l=this.pos_x-o/2,this.base_l+o>window.innerWidth&&(this.tt_arrow.css("margin-left",-i/2+this.base_l+o-window.innerWidth+"px"),this.base_l=window.innerWidth-o),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-i/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(-"+n+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t-n+"px",this.to.top=this.base_t+"px");break;case"bottom":o=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width"))),this.base_t=this.pos_y+s+r,this.base_l=this.pos_x-o/2,this.base_l+o>window.innerWidth&&(this.tt_arrow.css("margin-left",-i/2+this.base_l+o-window.innerWidth+"px"),this.base_l=window.innerWidth-o),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-i/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY("+n+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t+n+"px",this.to.top=this.base_t+"px");break;case"right":this.base_l=this.pos_x+i+r,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX("+n+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l+n+"px",this.to.left=this.base_l+"px");break;case"left":this.base_l=this.pos_x-i-this.tt.outerWidth(!1)-r,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX(-"+n+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l-n+"px",this.to.left=this.base_l+"px")}if(u=this._alignPolicy(),u!==null){this.align=u,this._locateTT();return}this.tt.css("top",parseInt(this.base_t)+"px").css("left",parseInt(this.base_l)+"px"),this.tt.css(this.from)},t.start=function(){n.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css("display","none")},t.reset=function(){n.reset.call(this),this.tt.detach()},t.create=function(){var t=this,r,s;n.create.call(this),this._orgAlign=this.align=this.$element.data("align")!==undefined?this.$element.data("align"):"top",this.data=this.$element.html();this.$element.html("").on("mouseenter",function(){t._showTT()}).on("mouseleave",function(){t._hideTT()});if(this.point=e('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element),r=this.$element.data("link"),s=this.$element.data("target"),r)this.point.on("click",function(){window.open(r,s||"_self")});if(this.tt=e("<div></div>").addClass("ms-tooltip").css("display","hidden").css("opacity",0),this.$element.data("width")!==undefined&&this.tt.css("width",this.$element.data("width")).css("max-width",this.$element.data("width")),this.tt_arrow=e("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt),this._updateClassName("ms-tooltip-"+this.align),this.ttcont=e("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt),this.$element.data("stay-hover")===!0)this.tt.on("mouseenter",function(){t.hide_start||(clearTimeout(t.hto),t._tween.stop(!0),t._showTT())}).on("mouseleave",function(){t._hideTT()})}}(jQuery),function(){window.MSButtonLayer=function(){MSLayerElement.call(this),this.type="button"},MSButtonLayer.extend(MSLayerElement);var e=MSButtonLayer.prototype,t=MSLayerElement.prototype,n=["top","left","bottom","right"];e.create=function(){t.create.call(this),this.$element.wrap('<div class="ms-btn-container"></div>').css("position","relative"),this.$container=this.$element.parent()},e.locate=function(){var e,r,s;for(t.locate.call(this),s=0;s<4;s++)e=n[s],e in this.baseStyle&&(r=this.$element.css(e),this.$element.css(e,""),this.$container.css(e,r));this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0))}}(jQuery),window.MSSliderEvent=function(e){this.type=e},MSSliderEvent.CHANGE_START="ms_changestart",MSSliderEvent.CHANGE_END="ms_changeend",MSSliderEvent.WAITING="ms_waiting",MSSliderEvent.AUTOPLAY_CHANGE="ms_autoplaychange",MSSliderEvent.VIDEO_PLAY="ms_videoPlay",MSSliderEvent.VIDEO_CLOSE="ms_videoclose",MSSliderEvent.INIT="ms_init",MSSliderEvent.RESIZE="ms_resize",MSSliderEvent.RESERVED_SPACE_CHANGE="ms_rsc",MSSliderEvent.DESTROY="ms_destroy",function(e){"use strict";window.MSSlide=function(){this.$element=null,this.$loading=e("<div></div>").addClass("ms-slide-loading"),this.layers=[],this.view=null,this.index=-1,this.__width=0,this.__height=0,this.preloadCount=0,this.fillMode="fill",this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.isSleeping=!0,this.moz=e.browser.mozilla};var t=MSSlide.prototype;t.onSwipeStart=function(){this.link&&(this.linkdis=!0),this.video&&(this.videodis=!0)},t.onSwipeCancel=function(){this.link&&(this.linkdis=!1),this.video&&(this.videodis=!1)},t.addLayer=function(t){this.hasLayers||(this.$layers=e("<div></div>").addClass("ms-slide-layers")),this.hasLayers=!0,this.$layers.append(t.$element),this.layers.push(t),t.slide=this,t.create(),t.parallax&&(this.hasParallaxLayer=!0),t.needPreload&&this.preloadCount++},t.___onlayersReady=function(){this.ready=!0,this.slider.api._startTimer(),this.selected&&(this.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setup(),CTween.fadeOut(this.$loading,300,!0),(this.slider.options.preload===0||this.slider.options.preload==="all")&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():this.slider.options.preload==="all"&&this.index===this.view.slideList.length-1&&this.slider._removeLoading()},t.startLayers=function(){for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].start()},t.initLayers=function(e){if((!this.init||e)&&!this.slider.init_safemode){this.init=!0;for(var t=0,n=this.layers.length;t<n;++t)this.layers[t].init()}},t.locateLayers=function(){for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].locate()},t.resetLayers=function(){this.$layers.css("display","none"),this.$layers.css("opacity",1);for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].reset()},t.hideLayers=function(){if(this.preloadCount===0)for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].hide()},t.showLayers=function(){if(this.hasLayers){this.lht&&(this.lht.reset?this.lht.reset():this.lht.stop(!0)),this.resetLayers(),this.$layers.css("opacity",1).css("display","block");var e=this;this.preloadCount===0&&(this.initLayers(),this.locateLayers(),this.startLayers())}},t.applyParallax=function(e,t,n){for(var r=0,i=this.layers.length;r!==i;++r)this.layers[r].parallax!=null&&this.layers[r].moveParallax(e,t,n)},t.enableParallaxEffect=function(){if(this.hasParallaxLayer)if(this.slider.options.parallaxMode==="swipe")this.view.addEventListener(MSViewEvents.SCROLL,this.swipeParallaxMove,this);else this.$element.on("mousemove",{that:this},this.mouseParallaxMove).on("mouseleave",{that:this},this.resetParalax)},t.disableParallaxEffect=function(){this.hasParallaxLayer&&(this.slider.options.parallaxMode==="swipe"?this.view.removeEventListener(MSViewEvents.SCROLL,this.swipeParallaxMove,this):this.$element.off("mousemove",this.mouseParallaxMove).off("mouseleave",this.resetParalax))},t.resetParalax=function(e){var t=e.data.that;t.applyParallax(0,0)},t.mouseParallaxMove=function(e){var t=e.data.that,n=t.$element.offset(),r=t.slider,i,s;i=r.options.parallaxMode!=="mouse:y-only"?e.clientX-n.left-t.__width/2:0,s=r.options.parallaxMode!=="mouse:x-only"?e.clientY-n.top-t.__height/2:0,t.applyParallax(-i,-s)},t.swipeParallaxMove=function(){var e=this.position-this.view.__contPos;this.applyParallax(e,0,!0)},t.setBG=function(t){this.hasBG=!0;var r=this;this.$imgcont=e("<div></div>").addClass("ms-slide-bgcont"),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=e(t).css("visibility","hidden"),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(r.fillMode,r.$imgcont,r.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,r.slider.options.autoHeight&&(r.pselected||r.selected)&&r.slider.setHeight(r.slider.options.height),this.$bg_img.data("src")!==undefined?(this.bg_src=this.$bg_img.data("src"),this.$bg_img.removeAttr("data-src")):this.$bg_img.one("load",function(e){r._onBGLoad(e)}).each(e.jqLoadFix),this.preloadCount++},t._onBGLoad=function(t){if(this.bgNatrualWidth=t.width,this.bgNatrualHeight=t.height,this.bgLoaded=!0,e.browser.msie)this.$bg_img.on("dragstart",function(e){e.preventDefault()});this.preloadCount--,this.preloadCount===0&&this.___onlayersReady()},t.loadImages=function(){var e,t,n;if(!this.ls)for(this.ls=!0,this.preloadCount===0&&this.___onlayersReady(),this.bgvideo&&this.bgvideo.load(),this.hasBG&&this.bg_src&&(e=this,this.$bg_img.preloadImg(this.bg_src,function(t){e._onBGLoad(t)})),t=0,n=this.layers.length;t<n;++t)this.layers[t].needPreload&&this.layers[t].loadImage()},t.setBGVideo=function(t){if(t[0].play){if(window._mobile){t.remove();return}this.bgvideo=t[0];var r=this;t.addClass("ms-slide-bgvideo"),t.data("loop")!==!1&&this.bgvideo.addEventListener("ended",function(){r.bgvideo.play()}),t.data("mute")!==!1&&(this.bgvideo.muted=!0),t.data("autopause")===!0&&(this.autoPauseBgVid=!0),this.bgvideo_fillmode=t.data("fill-mode")||"fill",this.bgvideo_fillmode!=="none"&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,t),this.bgvideo.addEventListener("loadedmetadata",function(){r.vinit||(r.vinit=!0,r.video_aspect=r.bgVideoAligner.baseHeight/r.bgVideoAligner.baseWidth,r.bgVideoAligner.init(r.bgvideo.videoWidth,r.bgvideo.videoHeight),r._alignBGVideo(),CTween.fadeIn(e(r.bgvideo),200),r.selected&&r.bgvideo.play())})),t.css("opacity",0),this.$bgvideocont=e("<div></div>").addClass("ms-slide-bgvideocont").append(t),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},t._alignBGVideo=function(){this.bgvideo_fillmode&&this.bgvideo_fillmode!=="none"&&this.bgVideoAligner.align()},t.setSize=function(e,t,n){this.__width=e,this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,t=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(t)):(this.ratio=e/this.slider.options.width,t=this.slider.options.height*this.ratio)),this.__height=t,this.$element.width(e).height(t),this.hasBG&&this.bgLoaded&&this.bgAligner.align(),this._alignBGVideo(),n&&this.selected&&this.initLayers(n),this.selected&&this.locateLayers(),this.hasLayers&&(this.slider.options.autoHeight&&(this.$layers[0].style.height=this.getHeight()+"px"),this.slider.options.layersMode=="center"&&(this.$layers[0].style.left=Math.max(0,(this.__width-this.slider.options.width)/2)+"px"))},t.getHeight=function(){return this.hasBG&&this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},t.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css("display",""),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css("display","block").attr("src",this.video+"&autoplay=1"),this.view.$element.addClass("ms-def-cursor"),this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},t.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&&this.slider.api.resume();var e=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){e.vcbtn.css("display","none")}}),CTween.animate(this.vframe,500,{opacity:0},{complete:function(){e.vframe.attr("src","about:blank").css("display","none")}}),this.view.swipeControl.enable(),this.view.$element.removeClass("ms-def-cursor"),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},t.create=function(){var t=this;this.hasLayers&&(this.$element.append(this.$layers),this.slider.options.layersMode=="center"&&this.$layers.css("max-width",this.slider.options.width+"px")),this.link&&this.$element.css("cursor","pointer").click(function(){t.linkdis||window.open(t.link,t.link_targ||"_self")}),this.video&&(this.video.indexOf("?")===-1&&(this.video+="?"),this.vframe=e("<iframe></iframe>").addClass("ms-slide-video").css({width:"100%",height:"100%",display:"none"}).attr("src","about:blank").appendTo(this.$element),this.vpbtn=e("<div></div>").addClass("ms-slide-vpbtn").click(function(){t.__playVideo()}).appendTo(this.$element),this.vcbtn=e("<div></div>").addClass("ms-slide-vcbtn").click(function(){t.__closeVideo()}).appendTo(this.$element).css("display","none"),window._touch&&this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css("height","100%"),(this.fillMode==="center"||this.fillMode==="stretch")&&(this.fillMode="fill")),this.slider.options.autoHeight&&this.$element.addClass("ms-slide-auto-height"),this.sleep(!0)},t.destroy=function(){for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].$element.stop(!0).remove();this.$element.remove(),this.$element=null},t.setup=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css("visibility",""),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))},t.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&&(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.loadImages(),this.preloadCount===0&&(this.bgvideo&&this.bgvideo.play(),this.slider.options.instantStartLayers&&this.showLayers()),this.enableParallaxEffect(),this.moz&&this.$element.css("margin-top",""))},t.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass("ms-sl-selected"),this.hasLayers&&(this.slider.options.autoHeight&&(this.$layers[0].style.height=this.getHeight()+"px"),this.slider.options.instantStartLayers||this.showLayers()),this.preloadCount===0&&this.bgvideo&&this.bgvideo.play(),this.videoAutoPlay&&(this.videodis=!1,this.vpbtn.trigger("click")))},t.unselect=function(){if(this.pselected=!1,this.moz&&this.$element.css("margin-top","0.1px"),(this.link||this.video)&&(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0)),this.hasLayers&&(this.selected||this.slider.options.instantStartLayers)){var e=this;e.lht=CTween.animate(this.$layers,500,{opacity:0},{complete:function(){e.resetLayers()}}),this.disableParallaxEffect()}this.selected&&(this.selected=!1,this.$element.removeClass("ms-sl-selected"),this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1))},t.sleep=function(e){(!this.isSleeping||e)&&(this.isSleeping=!0,this.autoAppend&&this.$element.detach())},t.wakeup=function(){this.isSleeping&&(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css("margin-top","0.1px"),this.setup(),this.hasBG&&this.bgAligner.align())}}(jQuery),function(e){"use strict";var t={},n;window.MSSlideController=function(e){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,this._timer.refrence=this,this.currentSlide=null,this.slider=e,this.so=e.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=function(e,n){if(e in t)throw new Error(e+", is already registered.");t[e]=n},MSSlideController.SliderControlList={},MSSlideController.registerControl=function(e,t){if(e in MSSlideController.SliderControlList)throw new Error(e+", is already registered.");MSSlideController.SliderControlList[e]=t},n=MSSlideController.prototype,n.setupView=function(){var n=this,r,s;this.resize_listener=function(){n.__resize()},r={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin},this.so.viewOptions&&e.extend(r,this.so.viewOptions),this.so.autoHeight&&(this.so.heightLimit=!1),s=t[this.slider.options.view]||MSBasicView,s._3dreq&&(!window._css3d||e.browser.msie)&&(s=s._fallback||MSBasicView),this.view=new s(r),this.so.overPause&&(n=this,this.slider.$element.mouseenter(function(){n.is_over=!0,n._stopTimer()}).mouseleave(function(){n.is_over=!1,n._startTimer()}))},n.onChangeStart=function(){this.change_started=!0,this.currentSlide&&this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer()),this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight()),this.so.deepLink&&this.__updateWindowHash(),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},n.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),this.so.preload>1){for(var e,t=this.so.preload-1,n=1;n<=t;++n){if(e=this.view.index+n,e>=this.view.slideList.length)if(this.so.loop)e=e-this.view.slideList.length;else{n=t;continue}this.view.slideList[e].loadImages()}for(t>this.view.slideList.length/2&&(t=Math.floor(this.view.slideList.length/2)),n=1;n<=t;++n){if(e=this.view.index-n,e<0)if(this.so.loop)e=this.view.slideList.length+e;else{n=t;continue}this.view.slideList[e].loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},n.onSwipeStart=function(){this.skipTimer()},n.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},n.onTimer=function(){this._timer.getTime()>=this.view.currentSlide.delay*1e3&&(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(this.view.currentSlide.delay*10),this.so.hideLayers&&!this.hideCalled&&this.view.currentSlide.delay*1e3-this._timer.getTime()<=300&&(this.view.currentSlide.hideLayers(),this.hideCalled=!0),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},n._stopTimer=function(){this._timer&&this._timer.stop()},n._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},n.__appendSlides=function(){var e,t,n=0,r=this.view.slideList.length-1;for(n;n<r;++n)e=this.view.slideList[n],e.detached||(e.$element.detach(),e.detached=!0);for(this.view.appendSlide(this.view.slideList[this.view.index]),r=3,n=1;n<=r;++n){if(t=this.view.index+n,t>=this.view.slideList.length)if(this.so.loop)t=t-this.view.slideList.length;else{n=r;continue}e=this.view.slideList[t],e.detached=!1,this.view.appendSlide(e)}for(r>this.view.slideList.length/2&&(r=Math.floor(this.view.slideList.length/2)),n=1;n<=r;++n){if(t=this.view.index-n,t<0)if(this.so.loop)t=this.view.slideList.length+t;else{n=r;continue}e=this.view.slideList[t],e.detached=!1,this.view.appendSlide(e)}},n.__resize=function(e){this.created&&(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,e),this.view.setSize(this.width,this.currentSlide.getHeight(),e)):this.view.setSize(this.width,this.so.heightLimit?Math.min(this.height,this.so.height):this.height,e),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css("left",Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+"px"),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},n.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},n.__updateWindowHash=function(){var e=window.location.hash,t=this.so.deepLink,n=this.so.deepLinkType,r=n==="path"?"/":"=",i=n==="path"?"/":"&",s=t+r+(this.view.index+1),o=new RegExp(t+r+"[0-9]+","g");window.location.hash=e===""?i+s:o.test(e)?e.replace(o,s):e+i+s},n.__curentSlideInHash=function(){var e=window.location.hash,t=this.so.deepLink,n=this.so.deepLinkType,r=n==="path"?"/":"=",i=new RegExp(t+r+"[0-9]+","g"),s;return i.test(e)&&(s=Number(e.match(i)[0].match(/[0-9]+/g).pop()),!isNaN(s))?s-1:-1},n.__onHashChanged=function(){var e=this.__curentSlideInHash();e!==-1&&this.gotoSlide(e)},n.setup=function(){var t,n,r,i;if(this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slideList[this.so.start-1],this.__resize(),t=this.__curentSlideInHash(),n=t!==-1?t:this.so.start-1,this.view.create(n),this.so.preload===0&&this.view.slideList[0].loadImages(),this.scroller=this.view.controller,this.so.wheel&&(i=this,r=(new Date).getTime(),this.wheellistener=function(e){var t=(new Date).getTime(),n,s;if(!(t-r<350))return r=t,n=window.event||e.orginalEvent||e,s=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail)),s<0?i.next():s>0&&i.previous(),!1},e.browser.mozilla?this.slider.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.bind("mousewheel",this.wheellistener)),this.slider.$element[0].clientWidth===0&&(this.slider.init_safemode=!0),this.__resize(),i=this,this.so.deepLink)e(window).on("hashchange",function(){i.__onHashChanged()})},n.index=function(){return this.view.index},n.count=function(){return this.view.slidesCount},n.next=function(){this.skipTimer(),this.view.next()},n.previous=function(){this.skipTimer(),this.view.previous()},n.gotoSlide=function(e){e=Math.min(e,this.count()-1),this.skipTimer(),this.view.gotoSlide(e)},n.destroy=function(e){this.slider.destroy(e),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY))},n._destroy=function(){this._timer.reset(),this._timer=null,e(window).unbind("resize",this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&&(e.browser.mozilla?this.slider.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),this.so=null},n.runAction=function(e){var t=[],n;e.indexOf("(")!==-1&&(n=e.slice(0,e.indexOf("(")),t=e.slice(e.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),e=n),e in this?this[e].apply(this,t):console&&console.log('Master Slider Error: Action "'+e+'" not found.')},n.update=function(e){this.slider.init_safemode&&e&&(this.slider.init_safemode=!1),this.__resize(e)},n.locate=function(){this.__resize()},n.resume=function(){this.paused&&(this.paused=!1,this._startTimer())},n.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},n.currentTime=function(){return this._delayProgress},averta.EventDispatcher.extend(n)}(jQuery),function(e){"use strict";var t={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer,button:MSButtonLayer},n;window.MasterSlider=function(){this.options={autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,critMargin:1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:"center",hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:"h",preload:0,wheel:!1,layout:"boxed",fullscreenMargin:0,instantStartLayers:!1,parallaxMode:"mouse",rtl:!1,deepLink:null,deepLinkType:"path"},this.slides=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0;var t=this;this.resize_listener=function(){t._resize()},e(window).bind("resize",this.resize_listener)},MasterSlider.author="Averta Ltd. (www.averta.net)",MasterSlider.version="2.1.0",MasterSlider.releaseDate="August 2014",n=MasterSlider.prototype,n.__setupSlides=function(){var t=this,n,r=0;this.$element.children(".ms-slide").each(function(){var s=e(this),o,u,a,f,l;if(n=new MSSlide,n.$element=s,n.slider=t,n.delay=s.data("delay")!==undefined?s.data("delay"):3,n.fillMode=s.data("fill-mode")!==undefined?s.data("fill-mode"):t.options.fillMode,n.index=r++,o=s.children("img:not(.ms-layer)"),o.length>0&&n.setBG(o[0]),u=s.children("video"),u.length>0&&n.setBGVideo(u),t.controls)for(a=0,f=t.controls.length;a<f;++a)t.controls[a].slideAction(n);l=s.children("a").each(function(){var t=e(this);this.getAttribute("data-type")==="video"?(n.video=this.getAttribute("href"),n.videoAutoPlay=t.data("autoplay"),t.remove()):t.hasClass("ms-layer")||(n.link=this.getAttribute("href"),n.link_targ=this.getAttribute("target"),t.remove())}),t.__createSlideLayers(n,s.find(".ms-layer")),t.slides.push(n),t.slideController.view.addSlide(n)})},n.__createSlideLayers=function(n,r){r.length!=0&&r.each(function(r,s){var o=e(this),u,a,f,l;s.nodeName==="A"&&o.find(">img").data("type")==="image"&&(u=e(this),o=u.find("img")),a=new(t[o.data("type")||"text"]),a.$element=o,a.link=u,f={},l={},o.data("effect")!==undefined&&(f.name=o.data("effect")),o.data("ease")!==undefined&&(f.ease=o.data("ease")),o.data("duration")!==undefined&&(f.duration=o.data("duration")),o.data("delay")!==undefined&&(f.delay=o.data("delay")),o.data("hide-effect")&&(l.name=o.data("hide-effect")),o.data("hide-ease")&&(l.ease=o.data("hide-ease")),o.data("hide-duration")!==undefined&&(l.duration=o.data("hide-duration")),o.data("hide-time")!==undefined&&(l.time=o.data("hide-time")),a.setStartAnim(f),a.setEndAnim(l),n.addLayer(a)})},n._removeLoading=function(){e(window).unbind("resize",this.resize_listener),this.$element.removeClass("before-init").css("visibility","visible").css("height","").css("opacity",0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&&this.slideController.__resize()},n._resize=function(){if(this.$loading){var e=this.$loading[0].clientWidth/this.aspect;e=this.options.heightLimit?Math.min(e,this.options.height):e,this.$loading.height(e),this.$element.height(e)}},n._shuffleSlides=function(){for(var e=this.$element.children(".ms-slide"),t,n=0,r=e.length;n<r;++n)t=Math.floor(Math.random()*(r-1)),n!=t&&(this.$element[0].insertBefore(e[n],e[t]),e=this.$element.children(".ms-slide"))},n._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;var t=this.options.layout;t!=="boxed"&&t!=="partialview"&&(this.options.fullwidth=!0),(t==="fullscreen"||t==="autofill")&&(this.options.fullheight=!0),t==="partialview"&&this.$element.addClass("ms-layout-partialview"),(t==="fullscreen"||t==="fullwidth")&&(e(window).bind("resize",{that:this},this._updateLayout),this._updateLayout()),e(window).bind("resize",this.slideController.resize_listener)},n._updateLayout=function(t){var n=t?t.data.that:this,r=n.options.layout,i=n.$element,s;i.width(e("body").innerWidth()-n.leftSpace-n.rightSpace),s=-i.offset().left+n.leftSpace+n.lastMargin,i.css("margin-left",s),n.lastMargin=s,r==="fullscreen"&&i.height(e(window).innerHeight()-n.options.fullscreenMargin-n.topSpace-n.bottomSpace)},n._init=function(){var t,n,r;if(!this.preventInit){if(this.initialized=!0,this.options.preload!=="all"&&this._removeLoading(),this.options.shuffle&&this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.$controlsCont=e("<div></div>").addClass("ms-inner-controls-cont"),this.options.centerControls&&this.$controlsCont.css("max-width",this.options.width+"px"),this.$controlsCont.prepend(this.view.$element),this.$msContainer=e("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont),this.controls)for(t=0,n=this.controls.length;t<n;++t)this.controls[t].setup();if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this.controls)for(t=0,n=this.controls.length;t<n;++t)this.controls[t].create();this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse&&(r=this.view.$element,r.mousedown(function(){r.removeClass("ms-grab-cursor"),r.addClass("ms-grabbing-cursor")}).addClass("ms-grab-cursor"),e(document).mouseup(function(){r.removeClass("ms-grabbing-cursor"),r.addClass("ms-grab-cursor")})),this.slideController.__dispatchInit()}},n.setHeight=function(e){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:e},{ease:"easeOutQuart"})):this.slideController.view.$element.height(e)},n.reserveSpace=function(e,t){var n=e+"Space",r=this[n];return this[n]+=t,this._updateSideMargins(),r},n._updateSideMargins=function(){this.$element.css("margin",this.topSpace+"px "+this.rightSpace+"px "+this.bottomSpace+"px "+this.leftSpace+"px")},n._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},n.control=function(e,t){if(e in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var n=new MSSlideController.SliderControlList[e](t);return n.slider=this,this.controls.push(n),this}},n.setup=function(t,n){var r,i,s;if(this.$element=typeof t=="string"?e("#"+t):t.eq(0),this.setupMarkup=this.$element.html(),this.$element.length!==0)return this.$element.addClass("master-slider").addClass("before-init"),e.browser.msie&&this.$element.addClass("ms-ie").addClass("ms-ie"+e.browser.version.slice(0,e.browser.version.indexOf("."))),r=navigator.userAgent.toLowerCase(),i=r.indexOf("android")>-1,i&&this.$element.addClass("ms-android"),s=this,e.extend(this.options,n),this.aspect=this.options.width/this.options.height,this.$loading=e("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append(e("<div></div>").addClass("ms-loading")),this.$loading.parent().css("position","relative"),this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&&this.$element.addClass("ms-fullheight"),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController,e(document).ready(function(){s._init()}),this},n.destroy=function(t){var n,r,i;if(this.controls)for(n=0,r=this.controls.length;n!==r;n++)this.controls[n].destroy();this.slideController&&this.slideController._destroy(),this.$loading&&this.$loading.remove(),t?this.$element.html(this.setupMarkup).css("visibility","hidden"):this.$element.remove(),i=this.options.layout,(i==="fullscreen"||i==="fullwidth")&&e(window).unbind("resize",this._updateLayout),this.view=null,this.slides=null,this.options=null,this.slideController=null,this.api=null,this.resize_listener=null}}(jQuery),function(e,t,n,r){function i(t,n){this.element=t,this.$element=e(t),this.settings=e.extend({},o,n),this._defaults=o,this._name=s,this.init()}var s="masterslider",o={controls:{}};e.extend(i.prototype,{init:function(){var e=this,t,n;this._slider=new MasterSlider;for(t in this.settings.controls)this._slider.control(t,this.settings.controls[t]);this._slider.setup(this.$element,this.settings),n=this._slider.api.dispatchEvent,this._slider.api.dispatchEvent=function(t){e.$element.trigger(t.type),n.call(this,t)}},api:function(){return this._slider.api},slider:function(){return this._slider}}),e.fn[s]=function(t){var n=arguments,o="plugin_"+s,a;return t===r||typeof t=="object"?this.each(function(){e.data(this,o)||e.data(this,o,new i(this,t))}):typeof t=="string"&&t[0]!=="_"&&t!=="init"?(this.each(function(){var r=e.data(this,o);r instanceof i&&typeof r[t]=="function"&&(a=r[t].apply(r,Array.prototype.slice.call(n,1))),r instanceof i&&typeof r._slider.api[t]=="function"&&(a=r._slider.api[t].apply(r._slider.api,Array.prototype.slice.call(n,1))),t==="destroy"&&e.data(this,o,null)}),a!==r?a:this):void 0}}(jQuery,window,document),window.MSViewEvents=function(e){this.type=e},MSViewEvents.SWIPE_START="swipeStart",MSViewEvents.SWIPE_END="swipeEnd",MSViewEvents.SWIPE_MOVE="swipeMove",MSViewEvents.SWIPE_CANCEL="swipeCancel",MSViewEvents.SCROLL="scoll",MSViewEvents.CHANGE_START="slideChangeStart",MSViewEvents.CHANGE_END="slideChangeEnd",function(e){"use strict";window.MSBasicView=function(t){this.options={loop:!1,dir:"h",autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},e.extend(this.options,t),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb=this.dir==="h"?"left":"top",this.__offset=this.dir==="h"?"offsetLeft":"offsetTop",this.__dimension=this.dir==="h"?"__width":"__height",this.__translate_end=window._css3d?" translateZ(0px)":"",this.$slideCont=e("<div></div>").addClass("ms-slide-container"),this.$element=e("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-this.options.speed*.5)/100,endless:this.loop}),this.controller.renderCallback(this.dir==="h"?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};var t=MSBasicView.prototype;t.__snapCompelet=function(){this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END))},t.__snapUpdate=function(t,r,i){var s,o;if(this.loop)s=this.index+i,this.updateLoop(s),s>=this.slidesCount&&(s=s-this.slidesCount),s<0&&(s=this.slidesCount+s),this.index=s;else{if(r<0||r>=this.slidesCount)return;this.index=r}(this._checkCritMargins(),e.browser.mozilla&&(this.slideList[this.index].$element[0].style.marginTop="0.1px",this.currentSlide&&(this.currentSlide.$element[0].style.marginTop="")),o=this.slideList[this.index],o!==this.currentSlide)&&(this.currentSlide=o,this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},t._checkCritMargins=function(){if(!this.normalMode){var e=Math.floor(this.options.viewNum/2),t=this.viewSlidesList.indexOf(this.slideList[this.index]),n=this[this.__dimension]+this.spacing,r=this.options.critMargin;if(this.loop){(t<=r||t>=this.viewSlidesList.length-r)&&(n*=t-e,this.__locateSlides(!1,n+this.start_buffer),this.start_buffer+=n);return}(t<r&&this.index>=r||t>=this.viewSlidesList.length-r&&this.index<this.slidesCount-r)&&this.__locateSlides(!1)}},t._vertiUpdate=function(e,t){if(this.__contPos=t,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3){this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateY("+ -t+"px)"+this.__translate_end;return}this.$slideCont[0].style.top=-t+"px"},t._horizUpdate=function(e,t){if(this.__contPos=t,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3){this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateX("+ -t+"px)"+this.__translate_end;return}this.$slideCont[0].style.left=-t+"px"},t.__updateViewList=function(){var e,t,n,r;if(this.normalMode){this.viewSlidesList=this.slides;return}if(e=this.viewSlidesList.slice(),this.viewSlidesList=[],t=0,n=Math.floor(this.options.viewNum/2),this.loop)for(;t!==this.options.viewNum;t++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-n+t]);else{for(t=0;t!==n&&this.index-t!=-1;t++)this.viewSlidesList.unshift(this.slideList[this.index-t]);for(t=1;t!==n&&this.index+t!==this.slidesCount;t++)this.viewSlidesList.push(this.slideList[this.index+t])}for(t=0,r=e.length;t!==r;t++)this.viewSlidesList.indexOf(e[t])===-1&&e[t].sleep();e=null,this.currentSlide&&this.__updateSlidesZindex()},t.__locateSlides=function(e,t){var n,r,i,s;for(this.__updateViewList(),t=this.loop?t||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing),n=this.viewSlidesList.length,i=0;i!==n;i++)s=t+i*(this[this.__dimension]+this.spacing),r=this.viewSlidesList[i],r.wakeup(),r.position=s,r.$element[0].style[this.__cssProb]=s+"px";e!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},t.__createLoopList=function(){var e=[],t=0,n=this.slidesCount/2,r=this.slidesCount%2==0?n-1:Math.floor(n),i=this.slidesCount%2==0?n:Math.floor(n);for(this.currentSlideLoc=r,t=1;t<=r;++t)e.unshift(this.slideList[this.index-t<0?this.slidesCount-t+this.index:this.index-t]);for(e.push(this.slideList[this.index]),t=1;t<=i;++t)e.push(this.slideList[this.index+t>=this.slidesCount?this.index+t-this.slidesCount:this.index+t]);return e},t.__getSteps=function(e,t){var n=t<e?this.slidesCount-e+t:t-e,r=Math.abs(this.slidesCount-n);return n<r?n:-r},t.__pushEnd=function(){var e=this.slides.shift(),t=this.slides[this.slidesCount-2],n;(this.slides.push(e),this.normalMode)&&(n=t.$element[0][this.__offset]+this.spacing+this[this.__dimension],e.$element[0].style[this.__cssProb]=n+"px",e.position=n)},t.__pushStart=function(){var e=this.slides.pop(),t=this.slides[0],n;(this.slides.unshift(e),this.normalMode)&&(n=t.$element[0][this.__offset]-this.spacing-this[this.__dimension],e.$element[0].style[this.__cssProb]=n+"px",e.position=n)},t.__updateSlidesZindex=function(){var e,t,n,r,i;if(this.autoUpdateZIndex)if(t=this.viewSlidesList.length,n=Math.floor(t/2),this.loop)for(r=this.viewSlidesList.indexOf(this.currentSlide),i=0;i!==t;i++)e=this.viewSlidesList[i],this.viewSlidesList[i].$element.css("z-index",i<=r?i+1:t-i);else{var s=this.currentSlide.index-this.viewSlidesList[0].index,o=t-s,u=s-o;for(i=0;i!==t;i++)this.viewSlidesList[i].$element.css("z-index",i<=s?i+1:t-i);this.currentSlide.$element.css("z-index",t)}},t.addSlide=function(e){e.view=this,this.slides.push(e),this.slideList.push(e),this.slidesCount++},t.appendSlide=function(e){this.$slideCont.append(e.$element)},t.updateLoop=function(e){var t,n,r;if(this.loop)for(t=this.__getSteps(this.index,e),n=0,r=Math.abs(t);n<r;++n)t<0?this.__pushStart():this.__pushEnd()},t.gotoSlide=function(e,t){this.updateLoop(e),this.index=e;var n=this.slideList[e];(this._checkCritMargins(),this.controller.changeTo(n.position,!t,null,null,!1),n!==this.currentSlide)&&(this.currentSlide=n,this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),t&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},t.next=function(){this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)},t.previous=function(){this.gotoSlide(this.index-1<0?this.slidesCount-1:this.index-1)},t.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType=this.dir==="h"?"horizontal":"vertical";var e=this;this.swipeControl.onSwipe=this.dir==="h"?function(t){e.horizSwipeMove(t)}:function(t){e.vertSwipeMove(t)}},t.vertSwipeMove=function(e){var t=e.phase,n;t==="start"?(this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START))):t==="move"&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+e.moveY)<this.cont_size/2)?this.controller.drag(e.moveY):(t==="end"||t==="cancel")&&(n=e.distanceY/e.duration*50/3,Math.abs(n)>.1?(this.controller.push(-n),n>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL))))},t.horizSwipeMove=function(e){var t=e.phase,n;t==="start"?(this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START))):t==="move"&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+e.moveX)<this.cont_size/2)?this.controller.drag(e.moveX):(t==="end"||t==="cancel")&&(n=e.distanceX/e.duration*50/3,Math.abs(n)>.1?(this.controller.push(-n),n>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL))))},t.setSize=function(e,t,n){if(this.lastWidth!==e||t!==this.lastHeight||n){this.$element.width(e).height(t);for(var r=0;r<this.slidesCount;++r)this.slides[r].setSize(e,t,n);this.__width=e,this.__height=t,this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=e,this.lastHeight=t)}},t.create=function(e){this.__created=!0,this.index=Math.min(e||0,this.slidesCount-1),this.loop&&(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount<=this.options.viewNum;for(var t=0;t<this.slidesCount;++t)this.slides[t].create();this.__locateSlides(),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&&(window._touch||this.options.mouseSwipe)&&this.setupSwipe()},t.destroy=function(){if(this.__created){for(var e=0;e<this.slidesCount;++e)this.slides[e].destroy();this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(t),MSSlideController.registerView("basic",MSBasicView)}(jQuery),function(){"use strict";window.MSWaveView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"),this.$slideCont.css(window._csspfx+"transform-style","preserve-3d"),this.autoUpdateZIndex=!0},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;var e=MSWaveView.prototype,t=MSBasicView.prototype;e._horizUpdate=function(e,n){var r,i,s,o;for(t._horizUpdate.call(this,e,n),r=-n,o=0;o<this.slidesCount;++o)i=this.slideList[o],s=-r-i.position,this.__updateSlidesHoriz(i,s)},e._vertiUpdate=function(e,n){var r,i,s,o;for(t._vertiUpdate.call(this,e,n),r=-n,o=0;o<this.slidesCount;++o)i=this.slideList[o],s=-r-i.position,this.__updateSlidesVertic(i,s)},e.__updateSlidesHoriz=function(e,t){var n=Math.abs(t*100/this.__width);e.$element.css(window._csspfx+"transform","translateZ("+ -n*3+"px) rotateY(0.01deg)")},e.__updateSlidesVertic=function(e,t){this.__updateSlidesHoriz(e,t)},MSSlideController.registerView("wave",MSWaveView)}(jQuery),function(){window.MSFadeBasicView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")},MSFadeBasicView.extend(MSWaveView);var e=MSFadeBasicView.prototype,t=MSFadeBasicView.prototype;e.__updateSlidesHoriz=function(e,t){var n=Math.abs(t*.6/this.__width);n=1-Math.min(n,.6),e.$element.css("opacity",n)},e.__updateSlidesVertic=function(e,t){this.__updateSlidesHoriz(e,t)},MSSlideController.registerView("fadeBasic",MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView}(),function(){window.MSFadeWaveView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;var e=MSFadeWaveView.prototype,t=MSWaveView.prototype;e.__updateSlidesHoriz=function(e,t){var n=Math.abs(t*100/this.__width);n=Math.min(n,100),e.$element.css("opacity",1-n/300),e.$element.css(window._csspfx+"transform","scale("+(1-n/800)+") rotateY(0.01deg) ")},e.__updateSlidesVertic=function(e,t){this.__updateSlidesHoriz(e,t)},MSSlideController.registerView("fadeWave",MSFadeWaveView)}(),function(){"use strict";window.MSFlowView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;var e=MSFlowView.prototype,t=MSWaveView.prototype;e.__updateSlidesHoriz=function(e,t){var n=Math.abs(t*100/this.__width),r=Math.min(n*.3,30)*(t<0?-1:1),i=n*1.2;e.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+ -i*5+"px) rotateY("+r+"deg) "},e.__updateSlidesVertic=function(e,t){var n=Math.abs(t*100/this.__width),r=Math.min(n*.3,30)*(t<0?-1:1),i=n*1.2;e.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+ -i*5+"px) rotateX("+ -r+"deg) "},MSSlideController.registerView("flow",MSFlowView)}(jQuery),function(){window.MSFadeFlowView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;var e=MSFadeFlowView.prototype,t=MSWaveView.prototype;e.__calculate=function(e){var t=Math.min(Math.abs(e*100/this.__width),100),n=Math.min(t*.5,50)*(e<0?-1:1);return{value:t,rvalue:n}},e.__updateSlidesHoriz=function(e,t){var n=this.__calculate(t);e.$element.css("opacity",1-n.value/300),e.$element[0].style[window._csspfx+"transform"]="translateZ("+ -n.value+"px) rotateY("+n.rvalue+"deg) "},e.__updateSlidesVertic=function(e,t){var n=this.__calculate(t);e.$element.css("opacity",1-n.value/300),e.$element[0].style[window._csspfx+"transform"]="translateZ("+ -n.value+"px) rotateX("+ -n.rvalue+"deg) "},MSSlideController.registerView("fadeFlow",MSFadeFlowView)}(),function(e){"use strict";window.MSMaskView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")},MSMaskView.extend(MSBasicView);var t=MSMaskView.prototype,n=MSBasicView.prototype;t.addSlide=function(t){t.view=this,t.$frame=e("<div></div>").addClass("ms-mask-frame").append(t.$element),t.$element[0].style.position="relative",t.autoAppend=!1,this.slides.push(t),this.slideList.push(t),this.slidesCount++},t.setSize=function(e,t){for(var r=this.slides[0].slider,s=0;s<this.slidesCount;++s)this.slides[s].$frame[0].style.width=e+"px",r.options.autoHeight||(this.slides[s].$frame[0].style.height=t+"px");n.setSize.call(this,e,t)},t._horizUpdate=function(e,t){n._horizUpdate.call(this,e,t);var r=0;if(this.css3){for(r=0;r<this.slidesCount;++r)this.slideList[r].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(t-this.slideList[r].position)+"px)"+this.__translate_end;return}for(r=0;r<this.slidesCount;++r)this.slideList[r].$element[0].style.left=t-this.slideList[r].position+"px"},t._vertiUpdate=function(e,t){n._vertiUpdate.call(this,e,t);var r=0;if(this.css3){for(r=0;r<this.slidesCount;++r)this.slideList[r].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(t-this.slideList[r].position)+"px)"+this.__translate_end;return}for(r=0;r<this.slidesCount;++r)this.slideList[r].$element[0].style.top=t-this.slideList[r].position+"px"},t.__pushEnd=function(){var e=this.slides.shift(),t=this.slides[this.slidesCount-2],n;(this.slides.push(e),this.normalMode)&&(n=t.$frame[0][this.__offset]+this.spacing+this[this.__dimension],e.$frame[0].style[this.__cssProb]=n+"px",e.position=n)},t.__pushStart=function(){var e=this.slides.pop(),t=this.slides[0],n;(this.slides.unshift(e),this.normalMode)&&(n=t.$frame[0][this.__offset]-this.spacing-this[this.__dimension],e.$frame[0].style[this.__cssProb]=n+"px",e.position=n)},t.__updateViewList=function(){var e,t,n,r;if(this.normalMode){this.viewSlidesList=this.slides;return}if(e=this.viewSlidesList.slice(),this.viewSlidesList=[],t=0,n=Math.floor(this.options.viewNum/2),this.loop)for(;t!==this.options.viewNum;t++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-n+t]);else{for(t=0;t!==n&&this.index-t!=-1;t++)this.viewSlidesList.unshift(this.slideList[this.index-t]);for(t=1;t!==n&&this.index+t!==this.slidesCount;t++)this.viewSlidesList.push(this.slideList[this.index+t])}for(t=0,r=e.length;t!==r;t++)this.viewSlidesList.indexOf(e[t])===-1&&(e[t].sleep(),e[t].$frame.detach());e=null},t.__locateSlides=function(e,t){var n,r,i,s;for(this.__updateViewList(),t=this.loop?t||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing),n=this.viewSlidesList.length,i=0;i!==n;i++)s=t+i*(this[this.__dimension]+this.spacing),r=this.viewSlidesList[i],this.$slideCont.append(r.$frame),r.wakeup(!1),r.position=s,r.$frame[0].style[this.__cssProb]=s+"px";e!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView("mask",MSMaskView)}(jQuery),function(){"use strict";window.MSFadeView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);var e=MSFadeView.prototype,t=MSBasicView.prototype;e.__update=function(e,t){for(var n=-t,r,i,s=0;s<this.slidesCount;++s)r=this.slideList[s],i=-n-r.position,this.__updateSlides(r,i)},e.__updateSlides=function(e,t){var n=Math.abs(t/this[this.__dimension]);1-n<=0?e.$element.fadeTo(0,0).css("visibility","hidden"):e.$element.fadeTo(0,1-n).css("visibility","")},e.__locateSlides=function(e,t){var n,r,i,s;for(this.__updateViewList(),t=this.loop?t||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing),n=this.viewSlidesList.length,i=0;i!==n;i++)s=t+i*this[this.__dimension],r=this.viewSlidesList[i],r.wakeup(),r.position=s;e!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},e.__pushEnd=function(){var e=this.slides.shift(),t=this.slides[this.slidesCount-2];this.slides.push(e),e.position=t.position+this[this.__dimension]},e.__pushStart=function(){var e=this.slides.pop(),t=this.slides[0];this.slides.unshift(e),e.position=t.position-this[this.__dimension]},e.create=function(e){t.create.call(this,e),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView("fade",MSFadeView)}(jQuery),function(){"use strict";window.MSScaleView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);var e=MSScaleView.prototype,t=MSFadeView.prototype;e.__updateSlides=function(e,t){var n=Math.abs(t/this[this.__dimension]),r=e.$element[0];1-n<=0?(r.style.opacity=0,r.style.visibility="hidden",r.style[window._jcsspfx+"Transform"]=""):(r.style.opacity=1-n,r.style.visibility="",r.style[window._jcsspfx+"Transform"]="perspective(2000px) translateZ("+n*(t<0?-.5:.5)*300+"px)")},e.create=function(e){t.create.call(this,e),this.controller.options.minValidDist=.03},MSSlideController.registerView("scale",MSScaleView)}(jQuery),function(){"use strict";var e=2e3,t,n;window.MSFocusView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView,t=MSFocusView.prototype,n=MSWaveView.prototype,t.__calcview=function(t,n){var r=n/2*t/(t+e);return r*(t+e)/e},t.__updateSlidesHoriz=function(e,t){var n=Math.abs(t*100/this.__width);n=-Math.min(n,100)*15,e.$element.css(window._csspfx+"transform","translateZ("+n+"px) rotateY(0.01deg) translateX("+(t<0?1:-1)*-this.__calcview(n,this.__width)*this.options.centerSpace+"px)")},t.__updateSlidesVertic=function(e,t){var n=Math.abs(t*100/this.__width);n=-Math.min(n,100)*15,e.$element.css(window._csspfx+"transform","translateZ("+n+"px) rotateY(0.01deg) translateY("+(t<0?1:-1)*-this.__calcview(n,this.__width)*this.options.centerSpace+"px)")},MSSlideController.registerView("focus",MSFocusView)}(),function(){window.MSPartialWaveView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;var e=MSPartialWaveView.prototype,t=MSWaveView.prototype;e.__updateSlidesHoriz=function(e,t){var n=Math.abs(t*100/this.__width);e.hasBG&&e.$bg_img.css("opacity",(100-Math.abs(t*120/this.__width/3))/100),e.$element.css(window._csspfx+"transform","translateZ("+ -n*3+"px) rotateY(0.01deg) translateX("+t*.75+"px)")},e.__updateSlidesVertic=function(e,t){var n=Math.abs(t*100/this.__width);e.hasBG&&e.$bg_img.css("opacity",(100-Math.abs(t*120/this.__width/3))/100),e.$element.css(window._csspfx+"transform","translateZ("+ -n*3+"px) rotateY(0.01deg) translateY("+t*.75+"px)")},MSSlideController.registerView("partialWave",MSPartialWaveView)}(),function(e){"use strict";var t=function(){this.options={prefix:"ms-",autohide:!0,overVideo:!0}},n=t.prototype;n.slideAction=function(){},n.setup=function(){this.cont=this.options.insertTo?e(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts()},n.checkHideUnder=function(){this.options.hideUnder&&(this.needsRealign=!this.options.insetTo&&(this.options.align==="left"||this.options.align==="right")&&this.options.inset===!1,e(window).bind("resize",{that:this},this.onResize),this.onResize())},n.onResize=function(e){var t=e&&e.data.that||this,n=window.innerWidth;n<=t.options.hideUnder&&!t.detached?(t.hide(!0),t.detached=!0,t.onDetach()):n>=t.options.hideUnder&&t.detached&&(t.detached=!1,t.visible(),t.onAppend())},n.create=function(){var t=this;this.options.autohide&&!window._touch&&(this.hide(!0),this.slider.$controlsCont.mouseenter(e.proxy(this._onMouseEnter,this)).mouseleave(e.proxy(this._onMouseLeave,this)).mousedown(e.proxy(this._onMouseDown,this)),this.$element&&this.$element.mouseenter(e.proxy(this._onMouseEnter,this)).mouseleave(e.proxy(this._onMouseLeave,this)).mousedown(e.proxy(this._onMouseDown,this)),e(document).mouseup(e.proxy(this._onMouseUp,this)))},n._onMouseEnter=function(){this._disableAH||this.mdown||this.visible(),this.mleave=!1},n._onMouseLeave=function(){this.mdown||this.hide(),this.mleave=!0},n._onMouseDown=function(){this.mdown=!0},n._onMouseUp=function(){this.mdown&&this.mleave&&this.hide(),this.mdown=!1},n.onAppend=function(){this.needsRealign&&this.slider._realignControls()},n.onDetach=function(){this.needsRealign&&this.slider._realignControls()},n._hideOnvideoStarts=function(){var e=this;slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){e._disableAH=!0,e.hide()}),slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){e._disableAH=!1,e.visible()})},n.hide=function(e){e?(this.$element.css("opacity",0),this.$element.css("display","none")):(clearTimeout(this.hideTo),this.hideTo=setTimeout(function(e){CTween.fadeOut(e,400,!1)},20,this.$element)),this.$element.addClass("ms-ctrl-hide")},n.visible=function(){this.detached||(clearTimeout(this.hideTo),this.$element.css("display",""),CTween.fadeIn(this.$element,400,!1),this.$element.removeClass("ms-ctrl-hide"))},n.destroy=function(){this.options&&this.options.hideUnder&&e(window).unbind("resize",this.onResize)},window.BaseControl=t}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),e.extend(this.options,t)},n,r;t.extend(BaseControl),n=t.prototype,r=BaseControl.prototype,n.setup=function(){var t=this;this.$next=e("<div></div>").addClass(this.options.prefix+"nav-next").bind("click",function(){t.slider.options.loop||t.slider.api.index()!==t.slider.api.count()-1?t.slider.api.next():t.slider.view.controller.bounce(10)}),this.$prev=e("<div></div>").addClass(this.options.prefix+"nav-prev").bind("click",function(){t.slider.options.loop||t.slider.api.index()!==0?t.slider.api.previous():t.slider.view.controller.bounce(-10)}),r.setup.call(this),this.cont.append(this.$next),this.cont.append(this.$prev),this.checkHideUnder()},n.hide=function(e){if(e){this.$prev.css("opacity",0).css("display","none"),this.$next.css("opacity",0).css("display","none");return}CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1),this.$prev.addClass("ms-ctrl-hide"),this.$next.addClass("ms-ctrl-hide")},n.visible=function(){this.detached||(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400),this.$prev.removeClass("ms-ctrl-hide").css("display",""),this.$next.removeClass("ms-ctrl-hide").css("display",""))},n.destroy=function(){r.destroy(),this.$next.remove(),this.$prev.remove()},window.MSArrows=t,MSSlideController.registerControl("arrows",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.dir="h",this.options.wheel=t.dir==="v",this.options.arrows=!0,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type="thumbs",e.extend(this.options,t),this.thumbs=[],this.index_count=0,this.__dimen=this.options.dir==="h"?"width":"height",this.__alignsize=this.options.dir==="h"?"height":"width",this.__jdimen=this.options.dir==="h"?"outerWidth":"outerHeight",this.__pos=this.options.dir==="h"?"left":"top",this.click_enable=!0},n,r;t.extend(BaseControl),n=t.prototype,r=BaseControl.prototype,n.setup=function(){var t,n;this.$element=e("<div></div>").addClass(this.options.prefix+"thumb-list"),this.options.type==="tabs"&&this.$element.addClass(this.options.prefix+"tabs"),this.$element.addClass("ms-dir-"+this.options.dir),r.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),this.$thumbscont=e("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element),this.options.arrows&&(t=this,this.$fwd=e("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function(){t.controller.push(-15)}),this.$bwd=e("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function(){t.controller.push(15)})),!this.options.insetTo&&this.options.align&&(n=this.options.align,this.options.inset?this.$element.css(n,this.options.margin):n==="top"?this.$element.detach().prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):n==="bottom"?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),this.options.dir==="v"?this.$element.width(this.options.width):this.$element.height(this.options.height)),this.checkHideUnder()},n.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,this.options[this.__alignsize]+this.options.margin*2);this.$element.css(e,-t-this.options[this.__alignsize]-this.options.margin)}},n.slideAction=function(t){var n=e(t.$element.find(".ms-thumb")),r=this,i=e("<div></div>").addClass("ms-thumb-frame").append(n).append(e('<div class="ms-thumb-ol"></div>')).bind("click",function(){r.changeSlide(i)}),s;if(this.options.align&&i.width(this.options.width).height(this.options.height).css("margin-"+(this.options.dir==="v"?"bottom":"right"),this.options.space),i[0].index=this.index_count++,this.$thumbscont.append(i),this.options.fillMode&&n.is("img")&&(s=new window.MSAligner(this.options.fillMode,i,n),n[0].aligner=s,n.one("load",function(){var t=e(this);t[0].aligner.init(t.width(),t.height()),t[0].aligner.align()}).each(e.jqLoadFix)),e.browser.msie)n.on("dragstart",function(e){e.preventDefault()});this.thumbs.push(i)},n.create=function(){var t;r.create.call(this),this.__translate_end=window._css3d?" translateZ(0px)":"",this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-this.options.speed*.5)/100}),this.controller.renderCallback(this.options.dir==="h"?this._hMove:this._vMove,this),t=this,this.resize_listener=function(){t.__resize()},e(window).bind("resize",this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize(),t=this,this.options.wheel&&(this.wheellistener=function(e){var n=window.event||e.orginalEvent||e,r=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail));return t.controller.push(-r*10),!1},e.browser.mozilla?this.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.$element.bind("mousewheel",this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},n._hMove=function(e,t){if(this.__contPos=t,window._cssanim){this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateX("+ -t+"px)"+this.__translate_end;return}this.$thumbscont[0].style.left=-t+"px"},n._vMove=function(e,t){if(this.__contPos=t,window._cssanim){this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateY("+ -t+"px)"+this.__translate_end;return}this.$thumbscont[0].style.top=-t+"px"},n.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType=this.options.dir==="h"?"horizontal":"vertical";var e=this;this.swipeControl.onSwipe=this.options.dir==="h"?function(t){e.horizSwipeMove(t)}:function(t){e.vertSwipeMove(t)}},n.vertSwipeMove=function(e){var t,n;this.dTouch||(t=e.phase,t==="start"?this.controller.stop():t==="move"?this.controller.drag(e.moveY):(t==="end"||t==="cancel")&&(n=Math.abs(e.distanceY/e.duration*50/3),n>.1?this.controller.push(-e.distanceY/e.duration*50/3):(this.click_enable=!0,this.controller.cancel())))},n.horizSwipeMove=function(e){var t,n;this.dTouch||(t=e.phase,t==="start"?(this.controller.stop(),this.click_enable=!1):t==="move"?this.controller.drag(e.moveX):(t==="end"||t==="cancel")&&(n=Math.abs(e.distanceX/e.duration*50/3),n>.1?this.controller.push(-e.distanceX/e.duration*50/3):(this.click_enable=!0,this.controller.cancel())))},n.update=function(){var e=this.slider.api.index();this.cindex!==e&&(this.cindex!=null&&this.unselect(this.thumbs[this.cindex]),this.cindex=e,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())},n.updateThumbscroll=function(){var e=this.thumbSize*this.cindex,t;if(this.controller.value==NaN&&(this.controller.value=0),e-this.controller.value<0){this.controller.gotoSnap(this.cindex,!0);return}if(e+this.thumbSize-this.controller.value>this.$element[this.__dimen]()){t=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1,this.controller.gotoSnap(t,!0);return}},n.changeSlide=function(e){this.click_enable&&this.cindex!==e[0].index&&this.slider.api.gotoSlide(e[0].index)},n.unselect=function(e){e.removeClass("ms-thumb-frame-selected")},n.select=function(e){e.addClass("ms-thumb-frame-selected")},n.__resize=function(){var e=this.$element[this.__dimen](),t;this.ls!==e&&(this.ls=e,this.thumbSize=this.thumbs[0][this.__jdimen](!0),t=this.slider.api.count()*this.thumbSize,this.$thumbscont[0].style[this.__dimen]=t+"px",t<=e?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=(e-t)*.5+"px",this.$thumbscont[0].style[window._jcsspfx+"Transform"]=""):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]="",this.controller._max_value=t-e,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll()))},n.destroy=function(){r.destroy(),this.options.wheel&&(e.browser.mozilla?this.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),e(window).unbind("resize",this.resize_listener),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},window.MSThumblist=t,MSSlideController.registerControl("thumblist",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.dir="h",this.options.inset=!0,this.options.margin=10,this.options.space=10,e.extend(this.options,t),this.bullets=[]},n,r;t.extend(BaseControl),n=t.prototype,r=BaseControl.prototype,n.setup=function(){if(r.setup.call(this),this.$element=e("<div></div>").addClass(this.options.prefix+"bullets").addClass("ms-dir-"+this.options.dir).appendTo(this.cont),this.$bullet_cont=e("<div></div>").addClass("ms-bullets-count").appendTo(this.$element),!this.options.insetTo&&this.options.align){var t=this.options.align;this.options.inset&&this.$element.css(t,this.options.margin)}this.checkHideUnder()},n.create=function(){var t,n,i;for(r.create.call(this),t=this,this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),n=0;n<this.slider.api.count();++n){i=e("<div></div>").addClass("ms-bullet"),i[0].index=n;i.on("click",function(){t.changeSlide(this.index)});this.$bullet_cont.append(i),this.bullets.push(i),this.options.dir==="h"?i.css("margin",this.options.space/2):i.css("margin",this.options.space)}this.options.dir==="h"?this.$element.width(i.outerWidth(!0)*this.slider.api.count()):this.$element.css("margin-top",-this.$element.outerHeight(!0)/2),this.select(this.bullets[this.cindex])},n.update=function(){var e=this.slider.api.index();this.cindex!==e&&(this.cindex!=null&&this.unselect(this.bullets[this.cindex]),this.cindex=e,this.select(this.bullets[this.cindex]))},n.changeSlide=function(e){this.cindex!==e&&this.slider.api.gotoSlide(e)},n.unselect=function(e){e.removeClass("ms-bullet-selected")},n.select=function(e){e.addClass("ms-bullet-selected")},n.destroy=function(){r.destroy(),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.$element.remove()},window.MSBulltes=t,MSSlideController.registerControl("bullets",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.dir="h",this.options.autohide=!0,this.options.width=4,this.options.color="#3D3D3D",this.options.margin=10,e.extend(this.options,t),this.__dimen=this.options.dir==="h"?"width":"height",this.__jdimen=this.options.dir==="h"?"outerWidth":"outerHeight",this.__pos=this.options.dir==="h"?"left":"top",this.__translate_end=window._css3d?" translateZ(0px)":"",this.__translate_start=this.options.dir==="h"?" translateX(":"translateY("},n,r;t.extend(BaseControl),n=t.prototype,r=BaseControl.prototype,n.setup=function(){if(this.$element=e("<div></div>").addClass(this.options.prefix+"sbar").addClass("ms-dir-"+this.options.dir),r.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),this.$bar=e("<div></div>").addClass(this.options.prefix+"bar").appendTo(this.$element),this.slider.options.loop&&(console.log("WARNING, MSScrollbar cannot work with looped slider."),this.disable=!0,this.$element.remove()),this.options.dir==="v"?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.options.dir==="v"?this.$element.css({right:"auto",left:"auto"}):this.$element.css({top:"auto",bottom:"auto"});var t=this.options.align;this.options.inset?this.$element.css(t,this.options.margin):t==="top"?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):t==="bottom"?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},n.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,this.options.margin*2+this.options.width);this.$element.css(e,-t-this.options.margin-this.options.width)}},n.create=function(){if(!this.disable){var e=this;this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&&this.$bar.css("opacity","0")}},n._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view["__"+this.__dimen]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},n._update=function(){var e=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value,t;if(this.lvalue!==e){if(this.lvalue=e,this.options.autohide&&(clearTimeout(this.hto),this.$bar.css("opacity","1"),t=this,this.hto=setTimeout(function(){t.$bar.css("opacity","0")},150)),e<0){this.$bar[0].style[this.__dimen]=this.bar_dimen+e+"px";return}if(e>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=this.vdimen-e+"px"),window._cssanim){this.$bar[0].style[window._jcsspfx+"Transform"]=this.__translate_start+e+"px)"+this.__translate_end;return}this.$bar[0].style[this.__pos]=e+"px"}},n.destroy=function(){r.destroy(),this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove()},window.MSScrollbar=t,MSSlideController.registerControl("scrollbar",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color="#FFFFFF",this.options.inset=!0,this.options.margin=0,e.extend(this.options,t)},n,r;t.extend(BaseControl),n=t.prototype,r=BaseControl.prototype,n.setup=function(){var t=this,n;r.setup.call(this),this.$element=e("<div></div>").addClass(this.options.prefix+"timerbar"),r.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),this.$bar=e("<div></div>").addClass("ms-time-bar").appendTo(this.$element),this.options.dir==="v"?(this.$bar.width(this.options.width),this.$element.width(this.options.width)):(this.$bar.height(this.options.width),this.$element.height(this.options.width)),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align&&(this.$element.css({top:"auto",bottom:"auto"}),n=this.options.align,this.options.inset?this.$element.css(n,this.options.margin):n==="top"?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):n==="bottom"?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())),this.checkHideUnder()},n.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,this.options.margin*2+this.options.width);this.$element.css(e,-t-this.options.margin-this.options.width)}},n.create=function(){r.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this),this._update()},n._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+"%"},n.destroy=function(){r.destroy(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove()},window.MSTimerbar=t,MSSlideController.registerControl("timebar",t)}(jQuery),function(e){"use strict";var t=function(t){BaseControl.call(this),this.options.color="#A2A2A2",this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,e.extend(this.options,t)},n,r;t.extend(BaseControl),n=t.prototype,r=BaseControl.prototype,n.setup=function(){var t=this;if(r.setup.call(this),this.$element=e("<div></div>").addClass(this.options.prefix+"ctimer").appendTo(this.cont),this.$canvas=e("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element),this.$bar=e("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element),!this.$canvas[0].getContext){this.destroy(),this.disable=!0;return}this.ctx=this.$canvas[0].getContext("2d"),this.prog=0,this.__w=(this.options.radius+this.options.stroke/2)*2,this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w,this.checkHideUnder()},n.create=function(){if(!this.disable){r.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this);var e=this;this.$element.click(function(){e.slider.api.paused?e.slider.api.resume():e.slider.api.pause()}),this._update()}},n._update=function(){var t=this;e(this).stop(!0).animate({prog:this.slider.api._delayProgress*.01},{duration:200,step:function(){t._draw()}})},n._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(this.__w*.5,this.__w*.5,this.options.radius,Math.PI*1.5,Math.PI*1.5+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},n.destroy=function(){(r.destroy(),this.disable)||(e(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove())},window.MSCircleTimer=t,MSSlideController.registerControl("circletimer",t)}(jQuery),function(e){"use strict";window.MSLightbox=function(t){BaseControl.call(this,t),this.options.autohide=!1,e.extend(this.options,t),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);var t=MSLightbox.prototype,n=BaseControl.prototype;t.setup=function(){n.setup.call(this),this.$element=e("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(this.cont),this.checkHideUnder()},t.slideAction=function(t){e("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(t.$element).append(e(t.$element.find(".ms-lightbox")))},t.create=function(){n.create.call(this)},MSSlideController.registerControl("lightbox",MSLightbox)}(jQuery),function(e){"use strict";window.MSSlideInfo=function(t){BaseControl.call(this,t),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir="h",e.extend(this.options,t),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);var t=MSSlideInfo.prototype,n=BaseControl.prototype;t.setup=function(){if(this.$element=e("<div></div>").addClass(this.options.prefix+"slide-info").addClass("ms-dir-"+this.options.dir),n.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),!this.options.insetTo&&this.options.align){var t=this.options.align;this.options.inset?this.$element.css(t,this.options.margin):t==="top"?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):t==="bottom"?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),this.options.dir==="v"?this.$element.width(this.options.size):this.$element.css("min-height",this.options.size)}this.checkHideUnder()},t.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,this.options.size+this.options.margin*2);this.$element.css(e,-t-this.options.size-this.options.margin)}},t.slideAction=function(t){var n=e(t.$element.find(".ms-info")),r=this;n.detach(),this.data_list[t.index]=n},t.create=function(){n.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},t.update=function(){var e=this.slider.api.index();this.switchEle(this.data_list[e]),this.cindex=e},t.switchEle=function(e){if(this.current_ele){var t=this;this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach(),this[0].tween=null,e.css("position","relative")},target:this.current_ele}),e.css("position","absolute")}this.__show(e)},t.__show=function(e){e.appendTo(this.$element).css("opacity","0"),this.current_ele&&e.height(Math.max(e.height(),this.current_ele.height())),clearTimeout(this.tou),this.tou=setTimeout(function(){CTween.fadeIn(e,MSSlideInfo.fadeDuratation),e.css("height","")},MSSlideInfo.fadeDuratation),e[0].tween&&e[0].tween.stop(!0),this.current_ele=e},t.destroy=function(){n.destroy(),clearTimeout(this.tou),this.current_ele&&this.current_ele[0].tween&&this.current_ele[0].tween.stop("true"),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},MSSlideController.registerControl("slideinfo",MSSlideInfo)}(jQuery),function(e){window.MSGallery=function(t,r){this.id=t,this.slider=r,this.telement=e("#"+t),this.botcont=e("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement),this.thumbcont=e("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont),this.playbtn=e("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont),this.thumbtoggle=e("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont),r.control("thumblist",{insertTo:this.thumbcont,autohide:!1,dir:"h"}),r.control("slidenum",{insertTo:this.botcont,autohide:!1}),r.control("slideinfo",{insertTo:this.botcont,autohide:!1}),r.control("timebar",{insertTo:this.botcont,autohide:!1}),r.control("bullets",{insertTo:this.botcont,autohide:!1})};var t=MSGallery.prototype;t._init=function(){var e=this;this.slider.api.paused||this.playbtn.addClass("btn-pause"),this.playbtn.click(function(){e.slider.api.paused?(e.slider.api.resume(),e.playbtn.addClass("btn-pause")):(e.slider.api.pause(),e.playbtn.removeClass("btn-pause"))}),this.thumbtoggle.click(function(){e.vthumbs?(e.thumbtoggle.removeClass("btn-hide"),e.vthumbs=!1,e.thumbcont.addClass("hide-thumbs")):(e.thumbtoggle.addClass("btn-hide"),e.thumbcont.removeClass("hide-thumbs"),e.vthumbs=!0)})},t.setup=function(){var t=this;e(document).ready(function(){t._init()})}}(jQuery),function(e){var t=function(e,t,n){return"https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+e+"&photoset_id="+t+"&per_page="+n+"&extras=description,date_taken,owner_name,views&format=json&jsoncallback=?"},n=function(e,t,n){return"https://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key="+e+"&user_id="+t+"&per_page="+n+"&extras=description,date_taken,owner_name,views&format=json&jsoncallback=?"},r=function(e,t,n,r,i){return"https://farm"+e+".staticflickr.com/"+t+"/"+n+"_"+r+i+".jpg"},i,s;window.MSFlickrV2=function(r,i){var s={count:10,type:"photoset",thumbSize:"q",imgSize:"c"},o;if(this.slider=r,this.slider.preventInit=!0,!i.key){this.errMsg("Flickr API Key required. Please add it in settings.");return}e.extend(s,i),this.options=s,o=this,this.options.type==="photoset"?e.getJSON(t(this.options.key,this.options.id,this.options.count),function(e){o._photosData(e)}):e.getJSON(n(this.options.key,this.options.id,this.options.count),function(e){o.options.type="photos",o._photosData(e)}),this.options.imgSize!==""&&this.options.imgSize!=="-"&&(this.options.imgSize="_"+this.options.imgSize),this.options.thumbSize="_"+this.options.thumbSize,this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()},i=MSFlickrV2.prototype,i._photosData=function(t){if(t.stat==="fail"){this.errMsg("Flickr API ERROR#"+t.code+": "+t.message);return}var n=this,r=this.options.author||this.options.desc;e.each(t[this.options.type].photo,function(t,r){var i=n.slideTemplate.replace(/{{[\w-]+}}/g,function(e){return e=e.replace(/{{|}}/g,""),s[e]?s[e](r,n):"["+e+"]"});e(i).appendTo(n.slider.$element)}),n._initSlider()},i.errMsg=function(t){this.slider.$element.css("display","block"),this.errEle||(this.errEle=e('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(t)},i._initSlider=function(){this.slider.preventInit=!1,this.slider._init()},s={image:function(e,t){return r(e.farm,e.server,e.id,e.secret,t.options.imgSize)},thumb:function(e,t){return r(e.farm,e.server,e.id,e.secret,t.options.thumbSize)},title:function(e){return e.title},"owner-name":function(e){return e.ownername},"date-taken":function(e){return e.datetaken},views:function(e){return e.views},description:function(e){return e.description._content}}}(jQuery),function(e){var t,n,r;window.MSFacebookGallery=function(t,n){var r={count:10,type:"photostream",thumbSize:"320",imgSize:"orginal",https:!1},i;this.slider=t,this.slider.preventInit=!0,e.extend(r,n),this.options=r,this.graph=this.options.https?"https://graph.facebook.com":"http://graph.facebook.com",i=this,this.options.type==="photostream"?e.getJSON(this.graph+"/"+this.options.username+"/photos/uploaded/?fields=source,name,link,images,from&limit="+this.options.count,function(e){i._photosData(e)}):e.getJSON(this.graph+"/"+this.options.albumId+"/photos?fields=source,name,link,images,from&limit="+this.options.count,function(e){i._photosData(e)}),this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()},t=MSFacebookGallery.prototype,t._photosData=function(t){var n,i,s,o,u;if(t.error){this.errMsg("Facebook API ERROR#"+t.error.code+"("+t.error.type+"): "+t.error.message);return}for(n=this,i=this.options.author||this.options.desc,s=0,o=t.data.length;s!==o;s++)u=n.slideTemplate.replace(/{{[\w-]+}}/g,function(e){return e=e.replace(/{{|}}/g,""),r[e]?r[e](t.data[s],n):"{{"+e+"}}"}),e(u).appendTo(n.slider.$element);n._initSlider()},t.errMsg=function(t){this.slider.$element.css("display","block"),this.errEle||(this.errEle=e('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(t)},t._initSlider=function(){this.slider.preventInit=!1,this.slider._init()},n=function(e,t){if(t==="orginal")return e[0].source;for(var n=0,r=e.length;n!==r;n++)if(e[n].source.indexOf(t+"x"+t)!==-1)return e[n].source;return e[r-3].source},r={image:function(e,t){return n(e.images,t.options.imgSize)},thumb:function(e,t){return n(e.images,t.options.thumbSize)},name:function(e){return e.name},"owner-name":function(e){return e.from.name},link:function(e){return e.link}}}(jQuery),function(e){"use strict";window.MSScrollParallax=function(e,t,n,r){this.fade=r,this.slider=e,this.parallax=t/100,this.bgparallax=n/100,e.api.addEventListener(MSSliderEvent.INIT,this.init,this),e.api.addEventListener(MSSliderEvent.DESTROY,this.destory,this),e.api.addEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),e.api.addEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this)},window.MSScrollParallax.setup=function(e,t,n,r){if(!window._mobile)return t==null&&(t=50),n==null&&(n=40),new MSScrollParallax(e,t,n,r)};var t=window.MSScrollParallax.prototype;t.init=function(){var t,r,i,s;for(this.slider.$element.addClass("ms-scroll-parallax"),this.sliderOffset=this.slider.$element.offset().top,this.updateCurrentSlide(),t=this.slider.api.view.slideList,i=0,s=t.length;i!==s;i++)r=t[i],r.$layers&&(r.$layers.wrap('<div class="ms-scroll-parallax-cont"></div>'),r.$scrollParallaxCont=r.$layers.parent());e(window).on("scroll",{that:this},this.moveParallax).trigger("scroll")},t.resetLayers=function(){if(this.lastSlide){var e=this.lastSlide.$scrollParallaxCont;window._css2d?(e&&(e[0].style[window._jcsspfx+"Transform"]=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style[window._jcsspfx+"Transform"]="")):(e&&(e[0].style.top=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style.top="0px"))}},t.updateCurrentSlide=function(){this.lastSlide=this.currentSlide,this.currentSlide=this.slider.api.currentSlide,this.moveParallax({data:{that:this}})},t.moveParallax=function(t){var r=t.data.that,i=r.slider,s=r.sliderOffset,o=e(window).scrollTop(),u=r.currentSlide.$scrollParallaxCont,a=s-o;a<=0?(u&&(window._css3d?u[0].style[window._jcsspfx+"Transform"]="translateY("+ -a*r.parallax+"px) translateZ(0.4px)":window._css2d?u[0].style[window._jcsspfx+"Transform"]="translateY("+ -a*r.parallax+"px)":u[0].style.top=-a*r.parallax+"px"),r.updateSlidesBG(-a*r.bgparallax+"px",!0),u&&r.fade&&u.css("opacity",1-Math.min(1,-a/i.api.height))):(u&&(window._css2d?u[0].style[window._jcsspfx+"Transform"]="":u[0].style.top=""),r.updateSlidesBG("0px",!1),u&&r.fade&&u.css("opacity",1))},t.updateSlidesBG=function(t,r){for(var i=this.slider.api.view.slideList,s=r&&!e.browser.msie&&!e.browser.opera?"fixed":"",o=0,u=i.length;o!==u;o++)i[o].hasBG&&(i[o].$imgcont[0].style.position=s,i[o].$imgcont[0].style.top=t),i[o].$bgvideocont&&(i[o].$bgvideocont[0].style.position=s,i[o].$bgvideocont[0].style.top=t)},t.destory=function(){slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this),slider.api.removeEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this),e(window).off("scroll",this.moveParallax)}}(jQuery)